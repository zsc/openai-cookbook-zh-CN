<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <title>é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ `extract_variables` å‡½æ•°ï¼Œ</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>ç›®å½•</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="æœç´¢..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">extended_thinking</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="extended_thinking/extended_thinking_with_tool_use_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‰©å±•æ€è€ƒä¸å·¥å…·ä½¿ç”¨</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="extended_thinking/extended_thinking_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‰©å±•æ€è€ƒ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">finetuning</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="finetuning/finetuning_on_bedrock_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">åœ¨ Bedrock ä¸Šå¾®è°ƒ Claude 3 Haiku</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder expanded" data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">misc</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/batch_processing_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‰¹é‡å¤„ç†æ¶ˆæ¯æ‰¹æ¬¡API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/building_evals_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å»ºç«‹è¯„ä¼°</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/building_moderation_filter_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å»ºç«‹ä¸€ä¸ªå¸¦æœ‰ Claude çš„å®¡æ ¸è¿‡æ»¤å™¨</span>
                        </a>
                    </div>
                
                    <div class="tree-item active" style="padding-left: 20px;">
                        <a href="misc/generate_test_cases_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ `extract_variables` å‡½æ•°ï¼Œ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/how_to_enable_json_mode_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æç¤º Claude è·å–â€œJSON æ¨¡å¼â€</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/how_to_make_sql_queries_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¦‚ä½•ä½¿ç”¨ Claude è¿›è¡Œ SQL æŸ¥è¯¢</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/illustrated_responses_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude çš„å›¾ç¤ºåŒ–å“åº”</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/mc_qa_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å®éªŒæ€§æµ‹è¯• Claude çš„é•¿ä¸Šä¸‹æ–‡é—®ç­”èƒ½åŠ›</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/metaprompt_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Metaprompt</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/pdf_upload_summarization_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">â€œä¸Šä¼ â€PDF åˆ° Claude API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/prompt_caching_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¼“å­˜æç¤ºï¼ˆPrompt cachingï¼‰é€šè¿‡ Anthropic API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/read_web_pages_with_haiku_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Claude 3 Haiku æ€»ç»“ç½‘é¡µå†…å®¹</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/sampling_past_max_tokens_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude ä» Claude ä¹‹å¤–çš„é‡‡æ ·å“åº”ï¼Œè¶…å‡ºæœ€å¤§ä»¤ç‰Œé™åˆ¶</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/speculative_prompt_caching_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æŠ•æœºæ€§æç¤ºç¼“å­˜</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/using_citations_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¼•è¨€</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">multimodal</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/best_practices_for_vision_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/getting_started_with_vision_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¼€å§‹ä¸Šæ‰‹ - å¦‚ä½•å°†å›¾åƒä¼ é€’ç»™ Claude</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/how_to_transcribe_text_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¦‚ä½•ä½¿ç”¨ Claude è½¬å½•æ–‡æ¡£</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/reading_charts_graphs_powerpoints_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨å›¾è¡¨å’Œå¹»ç¯ç‰‡æ”¾æ˜ </span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/using_sub_agents_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Haiku ä½œä¸ºå­ä»£ç†</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">patterns</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">agents</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/basic_workflows_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">é¦–å…ˆä½¿ç”¨å…·æœ‰æ€ç»´é“¾çš„LLMç¡®å®šé€‚å½“çš„è·¯ç”±</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/evaluator_optimizer_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/orchestrator_workers_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ­¥éª¤1ï¼šè·å–åè°ƒå™¨å“åº”</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ„å»ºé«˜æ•ˆä»£ç†çš„é£Ÿè°±</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">prompts</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="patterns/agents/prompts/citations_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="patterns/agents/prompts/research_lead_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="patterns/agents/prompts/research_subagent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </div></div></div></div></div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">skills</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="skills/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude æŠ€èƒ½</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">classification</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/classification/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è®¾ç½®æˆ‘ä»¬çš„ç¯å¢ƒ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/classification/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude åˆ†ç±»æŒ‡å—</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/classification/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Promptfoo è¿›è¡Œè¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">contextual-embeddings</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/contextual-embeddings/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¢å¼ºæ£€ç´¢çš„RAGä¸ä¸Šä¸‹æ–‡æ£€ç´¢</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/contextual-embeddings/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç»“åˆä¸Šä¸‹æ–‡åµŒå…¥çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">retrieval_augmented_generation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/retrieval_augmented_generation/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Retrieval Augmented Generation (RAG)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/retrieval_augmented_generation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/retrieval_augmented_generation/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Promptfoo è¿›è¡Œè¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">summarization</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/summarization/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‘˜è¦ä¸ Claude</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/summarization/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude æ‘˜è¦</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/summarization/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Promptfoo è¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">text_to_sql</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/text_to_sql/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Set your Anthropic API key</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/text_to_sql/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude çš„æ–‡æœ¬åˆ° SQL</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/text_to_sql/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Promptfoo è¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div></div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">third_party</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">Deepgram</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Deepgram/prerecorded_audio_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è½¬å½•æ·±è“éŸ³é¢‘æ–‡ä»¶å¹¶ä½¿ç”¨ Anthropic å‡†å¤‡é¢è¯•é—®é¢˜ï¼</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Deepgram/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Deepgram <> Anthropic Cookbooks</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">LlamaIndex</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Basic_RAG_With_LlamaIndex_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">RAG ç®¡é“ä¸ LlamaIndex</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Multi_Document_Agents_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¤šæ–‡æ¡£ä»£ç†</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Multi_Modal_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¤šæ¨¡æ€</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/ReAct_Agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ReAct Agent</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">LlamaIndex <> Anthropic Cookbooks</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Router_Query_Engine_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ³¨æ„ï¼šè¿™ä»…åœ¨ jupyter notebook ä¸­æ˜¯å¿…éœ€çš„ã€‚</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/SubQuestion_Query_Engine_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">SubQuestionQueryEngine</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">MongoDB</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/MongoDB/rag_using_mongodb_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¦‚ä½•ä½¿ç”¨ Claude 3 å’Œ MongoDB æ„å»º RAG ç³»ç»Ÿ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">Pinecone</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Pinecone/claude_3_rag_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ£€æŸ¥ Python ç‰ˆæœ¬</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Pinecone/rag_using_pinecone_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Pinecone è¿›è¡Œæ£€ç´¢å¢å¼ºç”Ÿæˆ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">VoyageAI</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/VoyageAI/how_to_create_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è¿™å°†è‡ªåŠ¨ä½¿ç”¨ç¯å¢ƒå˜é‡VOYAGE_API_KEYã€‚</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">Wikipedia</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Wikipedia/wikipedia-search-cookbook_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è¿­ä»£æœç´¢ç»´åŸºç™¾ç§‘ä¸ Claude</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">WolframAlpha</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/WolframAlpha/using_llm_api_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Wolfram Alpha LLM API ä½œä¸º Claude çš„å·¥å…·</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">tool_use</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/calculator_tool_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨è®¡ç®—å™¨å·¥å…·ä¸ Claude</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/customer_service_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·åˆ›å»ºå®¢æœä»£ç†</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/extracting_structured_json_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Claude å’Œå·¥å…·ä½¿ç”¨åŠŸèƒ½æå–ç»“æ„åŒ– JSON</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/memory_cookbook_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å®‰è£…ä¾èµ–</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/parallel_tools_claude_3_7_sonnet_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">åœ¨ Claude 3.7 Sonnet ä¸Šå¹¶è¡Œè°ƒç”¨å·¥å…·</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/tool_choice_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">é€‰æ‹©å·¥å…·</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/tool_use_with_pydantic_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è®°äº‹å·¥å…·ï¼Œæ”¯æŒ Pydantic å’Œ Anthropic å·¥å…·ä½¿ç”¨</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/vision_with_tools_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Vision ä¸å·¥å…·</span>
                        </a>
                    </div>
                </div></div></nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <p>å…¨æ–‡é€å­—ç¿»è¯‘ï¼ˆåªè¾“å‡ºç¿»è¯‘åç»“æœï¼‰ï¼š # ä¸ºæ‚¨çš„æç¤ºæ¨¡æ¿ç”Ÿæˆåˆæˆæµ‹è¯•æ•°æ®</p>
<p>æƒ³è±¡ä¸€ä¸‹æ‚¨æœ‰ç±»ä¼¼ä»¥ä¸‹çš„æç¤ºï¼š</p>
<p>"""è¿™æ˜¯æˆ‘æƒ³è®©æ‚¨åˆ†æçš„ä¸€äº›å†…å®¹ï¼š</p>
<p><thing>
{{thing1}}
</thing>
<thing>
{{thing2}}
</thing></p>
<p>è¿™äº›å†…å®¹æ˜¯[äº‹ç‰©çš„æè¿°]ã€‚è¯·ä»”ç»†é˜…è¯»å®ƒä»¬å¹¶[æ‰§è¡ŒæŸé¡¹ä»»åŠ¡]ã€‚â€"""</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†thing1å’Œthing2ç§°ä¸ºâ€œå˜é‡â€â€”â€”æ‚¨å¸Œæœ›æ‚¨çš„æç¤ºèƒ½å¤Ÿå¾ˆå¥½åœ°å¤„ç†thing1å’Œthing2çš„è®¸å¤šä¸åŒå¯èƒ½å€¼ã€‚</p>
<p>æ‚¨å¦‚ä½•æµ‹è¯•è¿™ä¸ªæç¤ºæ¨¡æ¿ï¼Ÿä¹Ÿè®¸æ‚¨æœ‰ä¸€äº›å¯ä»¥æ›¿æ¢çš„çœŸå®å€¼ã€‚ä½†ä¹Ÿè®¸æ‚¨æ²¡æœ‰ï¼Œæˆ–è€…å‡ºäºéšç§åŸå› ä¸å…è®¸ä½¿ç”¨æ‚¨æ‹¥æœ‰çš„å€¼è¿›è¡Œæµ‹è¯•ã€‚æ²¡å…³ç³»â€”â€”Claudeå¯ä»¥è‡ªå·±ç”Ÿæˆï¼æœ¬æŒ‡å—æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Claudeå’ŒAnthropic APIä¸ºæ‚¨çš„æç¤ºç”Ÿæˆåˆæˆæµ‹è¯•æ•°æ®ã€‚å®ƒåŒ…æ‹¬ç”¨äºä»æ¨¡æ¿ä¸­æå–å˜é‡ã€æ„é€ ç¤ºä¾‹å—ã€ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ä»¥åŠè¿­ä»£ä¼˜åŒ–ç»“æœçš„å‡½æ•°ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯åŒé‡çš„ï¼š</p>
<ol>
<li>
<p>æç¤ºè¯„ä¼°
æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æµ‹è¯•ç”¨ä¾‹æ¥æŸ¥çœ‹Claudeåœ¨ç°å®ç¤ºä¾‹ä¸Šçš„è¡¨ç°ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨å¤šç¤ºä¾‹æ”¹è¿›æç¤º
æä¾›ç¤ºä¾‹å¯èƒ½æ˜¯æé«˜Claudeæ€§èƒ½çš„æœ€ä½³æ–¹æ³•ã€‚è¿™ä¸ªç¬”è®°æœ¬å¯ä»¥å¸®åŠ©æ‚¨ç”Ÿæˆç°å®çš„è¾“å…¥ï¼Œè¿™æ˜¯è·å¾—ç†æƒ³è¾“å…¥/è¾“å‡ºå¯¹çš„ä¸€åŠæˆ˜æ–—ã€‚</p>
</li>
</ol>
<pre class="codehilite"><code class="language-python">% pip install anthropic IPython
</code></pre>

<pre class="codehilite"><code class="language-python">import re
import anthropic
from IPython.display import display, HTML
#åœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„APIå¯†é’¥
api_key = &quot;&quot;
CLIENT = anthropic.Anthropic(api_key=api_key)
MODEL_NAME = &quot;claude-3-5-sonnet-20241022&quot;
</code></pre>

<p>è®©æˆ‘ä»¬ä»å®šä¹‰ä¸€äº›æˆ‘ä»¬å°†åœ¨æ•´ä¸ªç¬”è®°æœ¬ä¸­ä½¿ç”¨çš„è¾…åŠ©å‡½æ•°å¼€å§‹ã€‚</p>
<pre class="codehilite"><code class="language-python"># é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ `extract_variables` å‡½æ•°ï¼Œ
# å®ƒæ¥æ”¶ä¸€ä¸ªæç¤ºæ¨¡æ¿å¹¶æå–å…¶ä¸­åŒ…å«çš„åŒå¤§æ‹¬å·â€œå˜é‡â€ã€‚
def extract_variables(prompt_template):
    &quot;&quot;&quot;ä»æç¤ºæ¨¡æ¿ä¸­æå–å˜é‡ã€‚&quot;&quot;&quot;
    pattern = r'{{([^}]+)}}'
    variables = re.findall(pattern, prompt_template)
    return set(variables)

# æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æœ‰ `construct_variables_names`ï¼Œå®ƒåªæ˜¯å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œç”¨æ¢è¡Œç¬¦åˆ†éš”ã€‚
def construct_variables_names(prompt_template):
    &quot;&quot;&quot;ä»æç¤ºæ¨¡æ¿æ„é€ å˜é‡åå­—ç¬¦ä¸²ã€‚&quot;&quot;&quot;
    variables = extract_variables(prompt_template)
    return &quot;\n&quot;.join(variables)

# `construct_variables_block` å‡½æ•°æ¥æ”¶å˜é‡åˆ—è¡¨ï¼Œå¹¶æ„é€ ä¸€ä¸ªâ€œå˜é‡å—â€
# å¦‚æœå˜é‡æ˜¯â€œanimalâ€å’Œâ€œtopicâ€ï¼Œå˜é‡å—å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š
&quot;&quot;&quot;
&lt;animal&gt;
[ä¸ºå˜é‡â€œanimalâ€æä¾›çš„å®Œæ•´ã€å®Œæ•´çš„ä»·å€¼]
&lt;/animal&gt;
&lt;topic&gt;
[ä¸ºå˜é‡â€œtopicâ€æä¾›çš„å®Œæ•´ã€å®Œæ•´çš„ä»·å€¼]
&lt;/topic&gt;
&quot;&quot;&quot;
def construct_variables_block(prompt_template):
    &quot;&quot;&quot;ä¸ºåˆæˆæµ‹è¯•æ•°æ®æç¤ºæ„é€ å˜é‡å—ã€‚&quot;&quot;&quot;
    variables = extract_variables(prompt_template)
    output = &quot;&quot;
    for v in variables:
        output += f&quot;&lt;{v}&gt;\n&quot;
        output += f&quot;[ä¸ºå˜é‡â€œ{v}â€æä¾›çš„å®Œæ•´ã€å®Œæ•´çš„ä»·å€¼ã€‚ï¼ˆæ‚¨æ— éœ€åœ¨æ ‡ç­¾å†…é‡å¤å˜é‡åã€‚ï¼‰]\n&quot;
        output += f&quot;&lt;/{v}&gt;\n&quot;
    return output.strip()

# `construct_examples` æ¥æ”¶ä¸€ä¸ª {variable: value} å­—å…¸å¹¶æ„é€ ä¸€ä¸ª XML æ ¼å¼çš„ç¤ºä¾‹ã€‚
# ä¾‹å¦‚ï¼Œå¦‚æœå­—å…¸æ˜¯
# {'animal': 'cat', 'topic': 'movement patterns'}ï¼Œé‚£ä¹ˆç¤ºä¾‹å°†æ˜¯
&quot;&quot;&quot;
&lt;example&gt;
&lt;variables&gt;
&lt;animal&gt;
cat
&lt;/animal&gt;
&lt;topic&gt;
movement patterns
&lt;/topic&gt;
&lt;/variables&gt;
&lt;/example&gt;
&quot;&quot;&quot;
def construct_example_block(variable_dict):
    &quot;&quot;&quot;ä»å˜é‡å­—å…¸æ„é€ ç¤ºä¾‹å—ã€‚&quot;&quot;&quot;
    output = &quot;&lt;example&gt;\n&lt;variables&gt;\n&quot;
    for k, v in variable_dict.items():
        output += f&quot;&lt;{k}&gt;\n{v}\n&lt;/{k}&gt;\n&quot;
    output = output.strip()
    output += &quot;\n&lt;/variables&gt;\n&lt;/example&gt;&quot;
    return output
</code></pre>

<h2 id="_1">ç”¨äºç”Ÿæˆæ•°æ®çš„æç¤ºæ¨¡æ¿</h2>
<p>è¿™äº›æç¤ºæ¨¡æ¿çš„æ€»ä½“æ€æƒ³æ˜¯é‡‡ç”¨ç”¨æˆ·æäº¤çš„å¸¦æœ‰å˜é‡çš„æç¤ºæ¨¡æ¿ï¼Œå¹¶æ„é€ ä¸€äº›å€¼æ¥å¡«å……æ¨¡æ¿ã€‚</p>
<p>å®é™…ä¸Šï¼Œä¸‹é¢æœ‰ä¸¤ä¸ªæç¤ºæ¨¡æ¿ï¼›ä¸€ä¸ªæ ¼å¼åŒ–ä¸ºå‡è®¾ç”¨æˆ·å·²æä¾›ç¤ºä¾‹å˜é‡å€¼ï¼Œå¦ä¸€ä¸ªåˆ™ä¸å‡è®¾ã€‚</p>
<p>å®ƒä»¬çš„å…±åŒç‚¹æ˜¯ï¼Œä¸¤ä¸ªæ¨¡æ¿éƒ½é¦–å…ˆä¸ºClaudeæä¾›æœ‰å…³æƒ…å†µçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶æŒ‡ç¤ºClaudeåœ¨è¾“å‡ºæµ‹è¯•ç”¨ä¾‹ä¹‹å‰ä»”ç»†è€ƒè™‘æ¯ä¸ªå˜é‡çš„è§„èŒƒä»¥åŠç”¨æˆ·æä¾›çš„æ•´ä¸ªæç¤ºæ¨¡æ¿ã€‚</p>
<pre class="codehilite"><code class="language-python"># ä¸ºåˆæˆè¯„ä¼°æ ¼å¼åŒ–æç¤ºæ¨¡æ¿

# æ­¤å‡½æ•°å‡†å¤‡ç”¨äºç”Ÿæˆåˆæˆæµ‹è¯•æ•°æ®çš„æç¤ºæ¨¡æ¿ã€‚

def format_prompt_template_for_synth_evals(prompt_template, examples=None):
    &quot;&quot;&quot;ä¸ºåˆæˆè¯„ä¼°æ ¼å¼åŒ–æç¤ºæ¨¡æ¿ã€‚&quot;&quot;&quot;
    synth_test_data_prompt_template_with_example = &quot;&quot;&quot;&lt;Prompt Template&gt;
{{PROMPT_TEMPLATE}}
&lt;/Prompt Template&gt;

æ‚¨çš„å·¥ä½œæ˜¯ä¸ºä¸Šé¢çš„æç¤ºæ¨¡æ¿æ„é€ ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚æ­¤æ¨¡æ¿åŒ…å«â€œå˜é‡â€ï¼Œè¿™äº›å˜é‡æ˜¯ç¨åè¦å¡«å†™çš„å ä½ç¬¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ï¼š

&lt;variables&gt;
{{CONSTRUCT_VARIABLES_NAMES}}
&lt;/variables&gt;

è¿™æ˜¯ç”¨æˆ·æä¾›çš„ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹ã€‚
&lt;examples&gt;
{{EXAMPLES}}
&lt;/examples&gt;

é¦–å…ˆï¼Œåœ¨&lt;planning&gt;æ ‡ç­¾ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. æ€»ç»“æç¤ºæ¨¡æ¿ã€‚åˆ›å»ºå®ƒçš„ç”¨æˆ·çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ
2. å¯¹äº&lt;variables&gt;ä¸­çš„æ¯ä¸ªå˜é‡ï¼Œä»”ç»†è€ƒè™‘è¯¥å˜é‡çš„èŒƒä¾‹æ€§ã€ç°å®æ€§ç¤ºä¾‹æ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ‚¨éœ€è¦æ³¨æ„â€œç”Ÿäº§ç¯å¢ƒâ€ä¸­è°å°†è´Ÿè´£æä¾›å€¼ã€‚ç”±äººç±»â€œæœ€ç»ˆç”¨æˆ·â€ç¼–å†™ï¼Ÿä»ç½‘ç«™ä¸‹è½½ï¼Ÿä»æ•°æ®åº“æå–ï¼Ÿè€ƒè™‘é•¿åº¦ã€æ ¼å¼å’Œè¯­æ°”ç­‰å› ç´ ï¼Œä»¥åŠè¯­ä¹‰å†…å®¹ã€‚ä½¿ç”¨ç”¨æˆ·æä¾›çš„ç¤ºä¾‹æ¥æŒ‡å¯¼æ­¤ç»ƒä¹ ã€‚ç›®æ ‡æ˜¯è·å¾—ç¤ºä¾‹æ­£åœ¨ä»ä¸­æå–çš„ç»Ÿè®¡åˆ†å¸ƒçš„æ„Ÿè§‰ã€‚æ‚¨ç¼–å†™çš„ç¤ºä¾‹åº”æ¥è‡ªåŒä¸€åˆ†å¸ƒï¼Œä½†ä¸æä¾›çš„ç¤ºä¾‹è¶³å¤Ÿä¸åŒï¼Œå¯ä»¥æä¾›é¢å¤–çš„ä¿¡å·ã€‚è¿™æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„å¹³è¡¡ï¼Œä½†æˆ‘å¯¹ä½ æœ‰ä¿¡å¿ƒã€‚

å®Œæˆåï¼Œè¾“å‡ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¸ºè¯¥æç¤ºæ¨¡æ¿çš„æ¯ä¸ªå˜é‡æä¾›ä¸€ä¸ªå®Œæ•´ã€å®Œæ•´çš„ä»·å€¼ã€‚è¾“å‡ºæ ¼å¼åº”ç”±æ¯ä¸ªå˜é‡çš„æ ‡è®°å—ç»„æˆï¼Œå€¼ä¸ºå—å†…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

&lt;variables&gt;
{{CONSTRUCT_VARIABLES_BLOCK}}
&lt;/variables&gt;&quot;&quot;&quot;

    synth_test_data_prompt_template_without_example = &quot;&quot;&quot;&lt;Prompt Template&gt;
{{PROMPT_TEMPLATE}}
&lt;/Prompt Template&gt;

æ‚¨çš„å·¥ä½œæ˜¯ä¸ºä¸Šé¢çš„æç¤ºæ¨¡æ¿æ„é€ ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚æ­¤æ¨¡æ¿åŒ…å«â€œå˜é‡â€ï¼Œè¿™äº›å˜é‡æ˜¯ç¨åè¦å¡«å†™çš„å ä½ç¬¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ï¼š

&lt;variables&gt;
{{CONSTRUCT_VARIABLES_NAMES}}
&lt;/variables&gt;

é¦–å…ˆï¼Œåœ¨&lt;planning&gt;æ ‡ç­¾ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. æ€»ç»“æç¤ºæ¨¡æ¿ã€‚åˆ›å»ºå®ƒçš„ç”¨æˆ·çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ
2. å¯¹äº&lt;variables&gt;ä¸­çš„æ¯ä¸ªå˜é‡ï¼Œä»”ç»†è€ƒè™‘è¯¥å˜é‡çš„èŒƒä¾‹æ€§ã€ç°å®æ€§ç¤ºä¾‹æ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ‚¨éœ€è¦æ³¨æ„â€œç”Ÿäº§ç¯å¢ƒâ€ä¸­è°å°†è´Ÿè´£æä¾›å€¼ã€‚ç”±äººç±»â€œæœ€ç»ˆç”¨æˆ·â€ç¼–å†™ï¼Ÿä»ç½‘ç«™ä¸‹è½½ï¼Ÿä»æ•°æ®åº“æå–ï¼Ÿè€ƒè™‘é•¿åº¦ã€æ ¼å¼å’Œè¯­æ°”ç­‰å› ç´ ï¼Œä»¥åŠè¯­ä¹‰å†…å®¹ã€‚

ç„¶åï¼Œè¾“å‡ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¸ºè¯¥æç¤ºæ¨¡æ¿çš„æ¯ä¸ªå˜é‡æä¾›ä¸€ä¸ªå®Œæ•´ã€å®Œæ•´çš„ä»·å€¼ã€‚è¾“å‡ºæ ¼å¼åº”ç”±æ¯ä¸ªå˜é‡çš„æ ‡è®°å—ç»„æˆï¼Œå€¼ä¸ºå—å†…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
&lt;variables&gt;
{{CONSTRUCT_VARIABLES_BLOCK}}
&lt;/variables&gt;&quot;&quot;&quot;

    if examples:
        examples_block = &quot;\n&quot;.join([construct_example_block(example) for example in examples])
        return synth_test_data_prompt_template_with_example.replace(
            &quot;{{PROMPT_TEMPLATE}}&quot;, prompt_template
        ).replace(
            &quot;{{CONSTRUCT_VARIABLES_NAMES}}&quot;, construct_variables_names(prompt_template)
        ).replace(
            &quot;{{CONSTRUCT_VARIABLES_BLOCK}}&quot;, construct_variables_block(prompt_template)
        ).replace(
            &quot;{{EXAMPLES}}&quot;, examples_block
        )
    else:
        return synth_test_data_prompt_template_without_example.replace(
            &quot;{{PROMPT_TEMPLATE}}&quot;, prompt_template
        ).replace(
            &quot;{{CONSTRUCT_VARIABLES_NAMES}}&quot;, construct_variables_names(prompt_template)
        ).replace(
            &quot;{{CONSTRUCT_VARIABLES_BLOCK}}&quot;, construct_variables_block(prompt_template)
        )
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œå¦ä¸€ä¸ªç”¨äºå¡«å……é€‚å½“æç¤ºæ¨¡æ¿å¹¶è°ƒç”¨Claudeçš„å¿«é€Ÿè¾…åŠ©å‡½æ•°ã€‚</p>
<pre class="codehilite"><code class="language-python">def get_test_data(prompt_template, examples, custom_planning=None):
    &quot;&quot;&quot;ä½¿ç”¨Anthropic APIç”Ÿæˆæµ‹è¯•æ•°æ®ã€‚&quot;&quot;&quot;
    synth_eval_prompt_ready = format_prompt_template_for_synth_evals(prompt_template, examples)

    messages = [
        {
            &quot;role&quot;: &quot;user&quot;,
            &quot;content&quot;: synth_eval_prompt_ready,
        }
    ]
    if custom_planning:
        messages.append({
            &quot;role&quot;: &quot;assistant&quot;,
            &quot;content&quot;: custom_planning,
        })

    message = CLIENT.messages.create(
        max_tokens=4000,
        messages=messages,
        model=MODEL_NAME,
        temperature=1,
    ).content[0].text

    return message
</code></pre>

<pre class="codehilite"><code class="language-python"># æˆ‘ä»¬å°†ä½¿ç”¨æ­¤å‡½æ•°æ¥é‡‡æ ·Claudeå¯¹å¡«å……æ¨¡æ¿çš„å“åº”ï¼Œ
# ä¸€æ—¦æˆ‘ä»¬æœ‰äº†ç¤ºä¾‹å€¼/æµ‹è¯•ç”¨ä¾‹ã€‚

def call_claude_with_template(prompt_template, variables):
    &quot;&quot;&quot;ä½¿ç”¨å¡«å……çš„æç¤ºæ¨¡æ¿è°ƒç”¨Claudeã€‚&quot;&quot;&quot;
    filled_template = prompt_template
    for var, value in variables.items():
        filled_template = filled_template.replace(f&quot;{{{{{var}}}}}&quot;, value)

    message = CLIENT.messages.create(
        max_tokens=4000,
        messages=[
            {
                &quot;role&quot;: &quot;user&quot;,
                &quot;content&quot;: filled_template,
            }
        ],
        model=MODEL_NAME,
        temperature=0.7,
    ).content[0].text

    return message
</code></pre>

<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹å°†è¿™äº›éƒ¨åˆ†ç»„åˆèµ·æ¥äº†ã€‚é¦–å…ˆï¼Œåœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„æç¤ºæ¨¡æ¿ã€‚</p>
<pre class="codehilite"><code class="language-python"># ç”¨æ‚¨çš„æç¤ºæ¨¡æ¿æ›¿æ¢æ­¤å†…å®¹ï¼
# ä½¿ç”¨åŒæ‹¬å·è¡¨ç¤ºå˜é‡
# è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š
prompt_template = &quot;&quot;&quot;æ‚¨æ˜¯Acmeå…¬å¸çš„å®¢æˆ·æ”¯æŒæœºå™¨äººã€‚
è¿™æ˜¯FAQï¼Œå…¶ä¸­åŒ…å«Acmeçš„ç›¸å…³æ”¿ç­–ï¼š

&lt;documents&gt;
{{DOCUMENTS}}
&lt;/documents&gt;

è¯·æ ¹æ®æ”¿ç­–è¯¦æƒ…å›å¤æ­¤å®¢æˆ·æ”¯æŒé—®é¢˜ï¼š

&lt;question&gt;
{{QUESTION}}
&lt;/question&gt;&quot;&quot;&quot;

variables = extract_variables(prompt_template)
print(&quot;\nå·²è¯†åˆ«å˜é‡ï¼š&quot;)
for var in variables:
    print(f&quot;- {var}&quot;)
</code></pre>

<pre class="codehilite"><code>å·²è¯†åˆ«å˜é‡ï¼š

- DOCUMENTS
- QUESTION
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•â€œé»„é‡‘ç¤ºä¾‹â€çš„è¾“å…¥å’Œç†æƒ³è¾“å‡ºï¼Œæ‚¨å¯ä»¥è¾“å…¥å®ƒä»¬ã€‚ä»£ç ç›®å‰è¢«æ³¨é‡Šæ‰äº†ã€‚</p>
<pre class="codehilite"><code class="language-python">planning_text = None
USER_EXAMPLES = []

# if input(&quot;\nDo you want to provide an example value for your variables? (y/n): &quot;).lower() == 'y':
#     example = {}
#     for var in variables:
#         example[var] = input(f&quot;Enter an example value for {var}: &quot;)
#     USER_EXAMPLES.append(example)
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆæç¤ºæ¨¡æ¿ï¼Œå¹¶ç”¨æ­¤ä¿¡æ¯å¡«å……ï¼Œç„¶åè·å–ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼</p>
<pre class="codehilite"><code class="language-python">result = get_test_data(prompt_template, USER_EXAMPLES, planning_text)
</code></pre>

<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æµ‹è¯•ç”¨ä¾‹å’Œç”¨äºç”Ÿæˆå®ƒçš„è§„åˆ’ã€‚</p>
<pre class="codehilite"><code class="language-python">planning_match = re.search(r'&lt;planning&gt;(.*?)&lt;/planning&gt;', result, re.DOTALL)
if planning_match and not planning_text:
    planning_text = &quot;&lt;planning&gt;\n&quot; + planning_match.group(1).strip() + &quot;\n&lt;/planning&gt;&quot;

extracted_variables = {}
for var in variables:
    var_match = re.search(f'&lt;{var}&gt;(.*?)&lt;/{var}&gt;', result[result.index(&quot;&lt;variables&gt;&quot;):], re.DOTALL)
    if var_match:
        extracted_variables[var] = var_match.group(1).strip()

USER_EXAMPLES.append(extracted_variables)

print(&quot;~~~~~~~~~~~\nç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼š\n~~~~~~~~~~~&quot;)
for var, value in extracted_variables.items():
    print(f&quot;{var}:\n{value}\n&quot;)

print(&quot;~~~~~~~~~~~\nè§„åˆ’ï¼š\n~~~~~~~~~~~&quot;)
print(planning_text)
</code></pre>

<pre class="codehilite"><code>~~~~~~~~~~~
ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼š
~~~~~~~~~~~
DOCUMENTS:
é€€è´§æ”¿ç­–

- å•†å“å¯åœ¨è´­ä¹°å30å¤©å†…å‡­åŸå§‹æ”¶æ®é€€è´§
- å•†å“å¿…é¡»æœªä½¿ç”¨ä¸”åŒ…è£…å®Œå¥½
- è¿è´¹ä¸äºˆé€€è¿˜
- ç¤¼å“å¡ä¸å¯é€€è´§

é€è´§ä¿¡æ¯

- æ ‡å‡†é€è´§ï¼ˆ5-7ä¸ªå·¥ä½œæ—¥ï¼‰ï¼šè®¢å•æ»¡50ç¾å…ƒå…è´¹
- åŠ æ€¥é€è´§ï¼ˆ2-3ä¸ªå·¥ä½œæ—¥ï¼‰ï¼š12.99ç¾å…ƒ
- æ¬¡æ—¥é€è¾¾ï¼ˆä¸‹ä¸€ä¸ªå·¥ä½œæ—¥ï¼‰ï¼š24.99ç¾å…ƒ
- æˆ‘ä»¬ä»…è¿é€è‡³ç¾å›½å¤§é™†
- é˜¿æ‹‰æ–¯åŠ å’Œå¤å¨å¤·çš„è®¢å•éœ€é¢å¤–æ”¯ä»˜15ç¾å…ƒè´¹ç”¨

ä»˜æ¬¾æ–¹å¼

- æˆ‘ä»¬æ¥å—Visaã€Mastercardã€American Expresså’ŒPayPal
- ä»˜æ¬¾åœ¨ä¸‹å•æ—¶å¤„ç†
- ç¤¼å“å¡ä¸èƒ½ç”¨äºéƒ¨åˆ†ä»˜æ¬¾

QUESTION:
ä½ å¥½ï¼Œæˆ‘ä¸Šå‘¨ä¹°äº†ä¸€ä»¶æ¯›è¡£ï¼Œä½†å°ºå¯¸ä¸åˆé€‚ã€‚æˆ‘å¯ä»¥é€€è´§å—ï¼Ÿæˆ‘æ”¯ä»˜çš„è¿è´¹ä¼šé€€è¿˜ç»™æˆ‘å—ï¼Ÿè°¢è°¢ï¼

~~~~~~~~~~~
è§„åˆ’ï¼š
~~~~~~~~~~~
&lt;planning&gt;

1. æç¤ºæ¨¡æ¿æ‘˜è¦ï¼š
æ­¤æ¨¡æ¿åˆ›å»ºä¸€ä¸ªAcmeå…¬å¸çš„å®¢æˆ·æœåŠ¡èŠå¤©æœºå™¨äººï¼Œè¯¥æœºå™¨äººæ ¹æ®å…¬å¸å®˜æ–¹æ”¿ç­–/FAQæ–‡æ¡£å›ç­”å®¢æˆ·é—®é¢˜ã€‚ç›®æ ‡æ˜¯ç¡®ä¿å¯¹å®¢æˆ·å’¨è¯¢çš„å“åº”ä¸€è‡´ä¸”ç¬¦åˆæ”¿ç­–ã€‚

2. å˜é‡åˆ†æï¼š

DOCUMENTSï¼š

- å¯èƒ½ç”±Acmeçš„æ”¿ç­–/æ³•å¾‹å›¢é˜Ÿç»´æŠ¤
- å­˜å‚¨åœ¨çŸ¥è¯†åº“æˆ–å†…å®¹ç®¡ç†ç³»ç»Ÿä¸­
- æ ¼å¼ä¸ºç»“æ„åŒ–çš„FAQæ¡ç›®æˆ–æ”¿ç­–å£°æ˜
- ä¸“ä¸šã€æ­£å¼çš„è¯­æ°”
- åŒ…å«ä¸åŒä¸»é¢˜çš„å¤šä¸ªæ®µè½
- æ¸…æ™°çš„æ ‡é¢˜å’Œç±»åˆ«
- é•¿åº¦ï¼šå‡ ä¸ªæ®µè½ï¼ˆ300-500å­—ï¼‰

QUESTIONï¼š

- ç”±æœ€ç»ˆç”¨æˆ·/å®¢æˆ·ç¼–å†™
- éæ­£å¼ã€å¯¹è¯å¼çš„è¯­æ°”
- é€šå¸¸ä¸º1-2å¥è¯
- é€šå¸¸åŒ…å«æœ‰å…³å…¶å…·ä½“æƒ…å†µçš„èƒŒæ™¯ä¿¡æ¯
- å¯èƒ½åŒ…å«æ‹¼å†™é”™è¯¯æˆ–éšæ„ç”¨è¯­
- é•¿åº¦ï¼š20-50å­—
&lt;/planning&gt;
</code></pre>

<p>ä»è¿™é‡Œå¼€å§‹ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥è¿›è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç”Ÿæˆæ›´å¤šæµ‹è¯•ç”¨ä¾‹ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ç¼–è¾‘Claudeçš„è§„åˆ’é€»è¾‘ã€‚è®©æˆ‘ä»¬ç¨å¾®ç¼–è¾‘ä¸€ä¸‹Claudeçš„è§„åˆ’é€»è¾‘ã€‚ä¹Ÿè®¸æˆ‘ä»¬çŸ¥é“ACMEçš„æ–‡æ¡£ä½¿ç”¨ç¼–å·è¡Œã€‚å…¶ä»–ä¸€äº›å®é™…çš„æ›´æ”¹å¯èƒ½æ˜¯ï¼š</p>
<ul>
<li>è®©Claudeå‘Šè¯‰è‡ªå·±ä½¿æ–‡æ¡£æ›´é•¿ã€æ›´è¯¦ç»†ã€‚</li>
<li>è®©Claudeå‘Šè¯‰è‡ªå·±ä½¿å®¢æˆ·æ”¯æŒæŸ¥è¯¢æ›´æ­£å¼æˆ–ä¸é‚£ä¹ˆæ­£å¼ã€‚</li>
</ul>
<pre class="codehilite"><code class="language-python">planning_text = planning_text.replace(&quot;each with a question and answer format&quot;, &quot;each with a question and answer format and associated number.&quot;)
# æ‚¨å¯èƒ½éœ€è¦ç¨å¾®ä¿®æ”¹è§„åˆ’æ–‡æœ¬ï¼Œå› æ­¤éœ€è¦é‡å†™replaceã€‚
</code></pre>

<p>è®©æˆ‘ä»¬é‡ç½®æˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œä½†ä½¿ç”¨æ­¤è§„åˆ’æ–‡æœ¬ä½œä¸ºé¢„å¡«å……ã€‚ï¼ˆè¿™å¯ä»¥èŠ‚çœä¸€äº›é‡‡æ ·æ—¶é—´ã€‚ï¼‰</p>
<pre class="codehilite"><code class="language-python">USER_EXAMPLES = []
result = get_test_data(prompt_template, USER_EXAMPLES, planning_text)
</code></pre>

<p>ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹æ–°çš„ç»“æœã€‚</p>
<pre class="codehilite"><code class="language-python"># ä»ä¸Šé¢çš„å•å…ƒæ ¼å¤åˆ¶ç²˜è´´ã€‚
planning_match = re.search(r'&lt;planning&gt;(.*?)&lt;/planning&gt;', result, re.DOTALL)
if planning_match and not planning_text:
    planning_text = &quot;&lt;planning&gt;\n&quot; + planning_match.group(1).strip() + &quot;\n&lt;/planning&gt;&quot;

extracted_variables = {}
for var in variables:
    var_match = re.search(f'&lt;{var}&gt;(.*?)&lt;/{var}&gt;', result[result.index(&quot;&lt;variables&gt;&quot;):], re.DOTALL)
    if var_match:
        extracted_variables[var] = var_match.group(1).strip()

USER_EXAMPLES.append(extracted_variables)

print(&quot;~~~~~~~~~~~\nç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼š\n~~~~~~~~~~~&quot;)
for var, value in extracted_variables.items():
    print(f&quot;{var}:\n{value}\n&quot;)

print(&quot;~~~~~~~~~~~\nè§„åˆ’ï¼š\n~~~~~~~~~~~&quot;)
print(planning_text)
</code></pre>

<pre class="codehilite"><code>~~~~~~~~~~~
ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼š
~~~~~~~~~~~
DOCUMENTS:
é€€è´§æ”¿ç­–

- å•†å“å¯åœ¨è´­ä¹°å30å¤©å†…å‡­åŸå§‹æ”¶æ®é€€è´§
- å•†å“å¿…é¡»æœªä½¿ç”¨ä¸”åŒ…è£…å®Œå¥½
- è¿è´¹ä¸äºˆé€€è¿˜
- æ— æ”¶æ®é€€è´§å°†è·å¾—å•†åº—ç§¯åˆ†

é€è´§ä¿¡æ¯

- æ ‡å‡†é€è´§ï¼ˆ5-7ä¸ªå·¥ä½œæ—¥ï¼‰ï¼š5.99ç¾å…ƒ
- åŠ æ€¥é€è´§ï¼ˆ2-3ä¸ªå·¥ä½œæ—¥ï¼‰ï¼š12.99ç¾å…ƒ
- è®¢å•æ»¡50ç¾å…ƒå¯äº«å—å…è´¹æ ‡å‡†é€è´§
- æˆ‘ä»¬ç›®å‰ä»…è¿é€è‡³ç¾å›½å¤§é™†
- é˜¿æ‹‰æ–¯åŠ å’Œå¤å¨å¤·çš„è®¢å•éœ€æ”¯ä»˜é¢å¤–è´¹ç”¨

ä»˜æ¬¾æ–¹å¼

- æˆ‘ä»¬æ¥å—Visaã€Mastercardã€American Expresså’ŒPayPal
- ç¤¼å“å¡ä¸èƒ½ç”¨äºåœ¨çº¿è´­ä¹°
- ä»˜æ¬¾åœ¨ä¸‹å•æ—¶å¤„ç†
- æ‰€æœ‰ä»·æ ¼å‡ä¸ºç¾å…ƒ

QUESTION:
ä½ å¥½ï¼Œæˆ‘ä¸Šå‘¨ä¹°äº†ä¸€ä»¶æ¯›è¡£ï¼Œä½†å°ºå¯¸ä¸åˆé€‚ã€‚æˆ‘å¯ä»¥é€€è´§å—ï¼Ÿæˆ‘ä»ç„¶ä¿ç•™ç€æ ‡ç­¾ï¼Œä½†æˆ‘æ‰”æ‰äº†æ”¶æ®ã€‚è°¢è°¢ï¼

~~~~~~~~~~~
è§„åˆ’ï¼š
~~~~~~~~~~~
&lt;planning&gt;

1. æç¤ºæ¨¡æ¿æ‘˜è¦ï¼š
æ­¤æ¨¡æ¿åˆ›å»ºä¸€ä¸ªAcmeå…¬å¸çš„å®¢æˆ·æœåŠ¡èŠå¤©æœºå™¨äººï¼Œè¯¥æœºå™¨äººæ ¹æ®å…¬å¸å®˜æ–¹æ”¿ç­–/FAQæ–‡æ¡£å›ç­”å®¢æˆ·é—®é¢˜ã€‚ç›®æ ‡æ˜¯ç¡®ä¿å¯¹å®¢æˆ·å’¨è¯¢çš„å“åº”ä¸€è‡´ä¸”ç¬¦åˆæ”¿ç­–ã€‚

2. å˜é‡åˆ†æï¼š

DOCUMENTSï¼š

- å¯èƒ½ç”±Acmeçš„æ”¿ç­–/æ³•å¾‹å›¢é˜Ÿç»´æŠ¤
- å­˜å‚¨åœ¨çŸ¥è¯†åº“æˆ–å†…å®¹ç®¡ç†ç³»ç»Ÿä¸­
- æ ¼å¼ä¸ºç»“æ„åŒ–çš„FAQæ¡ç›®æˆ–æ”¿ç­–å£°æ˜
- ä¸“ä¸šã€æ­£å¼çš„è¯­æ°”
- åŒ…å«ä¸åŒä¸»é¢˜çš„å¤šä¸ªæ®µè½
- æ¸…æ™°çš„æ ‡é¢˜å’Œç±»åˆ«
- é•¿åº¦ï¼šå‡ ä¸ªæ®µè½ï¼ˆ300-500å­—ï¼‰

QUESTIONï¼š

- ç”±æœ€ç»ˆç”¨æˆ·/å®¢æˆ·ç¼–å†™
- éæ­£å¼ã€å¯¹è¯å¼çš„è¯­æ°”
- é€šå¸¸ä¸º1-2å¥è¯
- é€šå¸¸åŒ…å«æœ‰å…³å…¶å…·ä½“æƒ…å†µçš„èƒŒæ™¯ä¿¡æ¯
- å¯èƒ½åŒ…å«æ‹¼å†™é”™è¯¯æˆ–éšæ„ç”¨è¯­
- é•¿åº¦ï¼š20-50å­—
&lt;/planning&gt;
</code></pre>

<p>å¤ªå¥½äº†ï¼Œå®ƒå®Œæˆäº†ç¼–å·çš„é—®ç­”ï¼</p>
<p>è®©æˆ‘ä»¬å†åšä¸€ä¸ªç¤ºä¾‹ã€‚è¿™ä¸ªç¤ºä¾‹å°†ä½¿ç”¨æˆ‘ä»¬å·²ç»æ‹¥æœ‰çš„ç¤ºä¾‹ï¼Œæ‰€ä»¥å¸Œæœ›å®ƒä¼šæœ‰æœ‰è¶£çš„å·®å¼‚ã€‚</p>
<pre class="codehilite"><code class="language-python">result = get_test_data(prompt_template, USER_EXAMPLES, planning_text)
</code></pre>

<pre class="codehilite"><code class="language-python"># ä»ä¸Šé¢çš„å•å…ƒæ ¼å¤åˆ¶ç²˜è´´ã€‚
planning_match = re.search(r'&lt;planning&gt;(.*?)&lt;/planning&gt;', result, re.DOTALL)
if planning_match and not planning_text:
    planning_text = &quot;&lt;planning&gt;\n&quot; + planning_match.group(1).strip() + &quot;\n&lt;/planning&gt;&quot;

extracted_variables = {}
for var in variables:
    var_match = re.search(f'&lt;{var}&gt;(.*?)&lt;/{var}&gt;', result[result.index(&quot;&lt;variables&gt;&quot;):], re.DOTALL)
    if var_match:
        extracted_variables[var] = var_match.group(1).strip()

USER_EXAMPLES.append(extracted_variables)

print(&quot;~~~~~~~~~~~\nç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼š\n~~~~~~~~~~~&quot;)
for var, value in extracted_variables.items():
    print(f&quot;{var}:\n{value}\n&quot;)

print(&quot;~~~~~~~~~~~\nè§„åˆ’ï¼š\n~~~~~~~~~~~&quot;)
print(planning_text)
</code></pre>

<pre class="codehilite"><code>~~~~~~~~~~~
ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼š
~~~~~~~~~~~
DOCUMENTS:
äº§å“ä¿ä¿®

- æ‰€æœ‰ç”µå­äº§å“å‡äº«æœ‰ä¸€å¹´æœ‰é™åˆ¶é€ å•†ä¿ä¿®
- ä¿ä¿®æ¶µç›–ææ–™å’Œå·¥è‰ºç¼ºé™·
- ä¿ä¿®ä¸åŒ…æ‹¬æ„å¤–æŸåæˆ–è¯¯ç”¨
- å¯åœ¨30å¤©å†…è´­ä¹°å»¶é•¿ä¿ä¿®

ä»·æ ¼åŒ¹é…æ”¿ç­–

- æˆ‘ä»¬åŒ¹é…æˆæƒé›¶å”®å•†çš„ä»·æ ¼
- å•†å“å¿…é¡»æ˜¯ç›¸åŒçš„å‹å·/é¢œè‰²/è§„æ ¼
- å¿…é¡»åœ¨ç«äº‰å¯¹æ‰‹çš„å•†åº—æœ‰è´§
- åœ¨çº¿é›¶å”®å•†ä¸å‚ä¸ä»·æ ¼åŒ¹é…
- ä»·æ ¼åŒ¹é…è¯·æ±‚å¿…é¡»åœ¨è´­ä¹°æ—¶æå‡º

è®¢å•å–æ¶ˆ

- è®¢å•å¯åœ¨ä¸‹å•å2å°æ—¶å†…å–æ¶ˆ
- ä¸€æ—¦å‘è´§ï¼Œåˆ™æ— æ³•å–æ¶ˆè®¢å•
- å–æ¶ˆçš„è®¢å•å°†é€€è¿˜è‡³åŸå§‹ä»˜æ¬¾æ–¹å¼
- é€€æ¬¾å¤„ç†æ—¶é—´ï¼š3-5ä¸ªå·¥ä½œæ—¥
- å¦‚éœ€å–æ¶ˆè®¢å•ï¼Œè¯·è”ç³»å®¢æœ

QUESTION:
æ‚¨å¥½ï¼Œæˆ‘ä¸‰å‘¨å‰åœ¨ä½ ä»¬åº—é‡Œä¹°äº†ä¸€å°ç¬”è®°æœ¬ç”µè„‘ï¼Œå®ƒæ€»æ˜¯éšæœºå…³æœºã€‚å®ƒè¿˜åœ¨ä¿ä¿®æœŸå†…ï¼Œå¯¹å§ï¼Ÿæˆ‘éœ€è¦åšä»€ä¹ˆæ‰èƒ½ä¿®å¥½å®ƒï¼Ÿæå‰è°¢è°¢ï¼

~~~~~~~~~~~
è§„åˆ’ï¼š
~~~~~~~~~~~
&lt;planning&gt;

1. æç¤ºæ¨¡æ¿æ‘˜è¦ï¼š
æ­¤æ¨¡æ¿åˆ›å»ºä¸€ä¸ªAcmeå…¬å¸çš„å®¢æˆ·æœåŠ¡èŠå¤©æœºå™¨äººï¼Œè¯¥æœºå™¨äººæ ¹æ®å…¬å¸å®˜æ–¹æ”¿ç­–/FAQæ–‡æ¡£å›ç­”å®¢æˆ·é—®é¢˜ã€‚ç›®æ ‡æ˜¯ç¡®ä¿å¯¹å®¢æˆ·å’¨è¯¢çš„å“åº”ä¸€è‡´ä¸”ç¬¦åˆæ”¿ç­–ã€‚

2. å˜é‡åˆ†æï¼š

DOCUMENTSï¼š

- å¯èƒ½ç”±Acmeçš„æ”¿ç­–/æ³•å¾‹å›¢é˜Ÿç»´æŠ¤
- å­˜å‚¨åœ¨çŸ¥è¯†åº“æˆ–å†…å®¹ç®¡ç†ç³»ç»Ÿä¸­
- æ ¼å¼ä¸ºç»“æ„åŒ–çš„FAQæ¡ç›®æˆ–æ”¿ç­–å£°æ˜
- ä¸“ä¸šã€æ­£å¼çš„è¯­æ°”
- åŒ…å«ä¸åŒä¸»é¢˜çš„å¤šä¸ªæ®µè½
- æ¸…æ™°çš„æ ‡é¢˜å’Œç±»åˆ«
- é•¿åº¦ï¼šå‡ ä¸ªæ®µè½ï¼ˆ300-500å­—ï¼‰

QUESTIONï¼š

- ç”±æœ€ç»ˆç”¨æˆ·/å®¢æˆ·ç¼–å†™
- éæ­£å¼ã€å¯¹è¯å¼çš„è¯­æ°”
- é€šå¸¸ä¸º1-2å¥è¯
- é€šå¸¸åŒ…å«æœ‰å…³å…¶å…·ä½“æƒ…å†µçš„èƒŒæ™¯ä¿¡æ¯
- å¯èƒ½åŒ…å«æ‹¼å†™é”™è¯¯æˆ–éšæ„ç”¨è¯­
- é•¿åº¦ï¼š20-50å­—
&lt;/planning&gt;
</code></pre>

<p>ä»ç„¶æ˜¯å…³äºACMEå…¬å¸ï¼Œä½†é—®é¢˜ä¸åŒï¼ŒçŸ¥è¯†åº“ä¹Ÿä¸åŒã€‚</p>
<p>ä»è¿™é‡Œå¼€å§‹ï¼Œä¸–ç•Œæ˜¯ä½ çš„ç‰¡è›â€”â€”ä½ å¯ä»¥é€šè¿‡å¾ªç¯è¿è¡Œä»£ç æ¥ç”Ÿæˆæ›´å¤šæµ‹è¯•ç”¨ä¾‹ï¼Œç¼–è¾‘æ›´å¤šè§„åˆ’ï¼Œåœ¨è¿™äº›æµ‹è¯•ç”¨ä¾‹ä¸Šè¯„ä¼°Claudeï¼Œå¹¶å°†ä½ åˆ¶ä½œçš„æµ‹è¯•ç”¨ä¾‹ä¸é»„é‡‘ç­”æ¡ˆä¸€èµ·ä½œä¸ºå¤šç¤ºä¾‹æ”¾å…¥ä½ çš„æç¤ºä¸­ä»¥æé«˜æ€§èƒ½ã€‚</p>
<p>è¦è·å–é»„é‡‘ç­”æ¡ˆï¼Œæ‚¨å¯ä»¥è‡ªå·±ä»å¤´å¼€å§‹ç¼–å†™ï¼Œæˆ–è€…è®©Claudeç¼–å†™ä¸€ä¸ªç­”æ¡ˆï¼Œç„¶åæ ¹æ®éœ€è¦è¿›è¡Œç¼–è¾‘ã€‚éšç€æç¤ºç¼“å­˜çš„å‡ºç°ï¼Œç°åœ¨æ˜¯æ·»åŠ å¤§é‡ç¤ºä¾‹ä»¥æé«˜æ€§èƒ½çš„æœ€ä½³æ—¶æœºã€‚</p>
            </article>
            
            <nav class="page-nav"><a href="finetuning/finetuning_on_bedrock_zh.html" class="nav-link prev">â† åœ¨ Bedrock ä¸Šå¾®è°ƒ Claude 3 Haiku</a><a href="multimodal/getting_started_with_vision_zh.html" class="nav-link next">å¼€å§‹ä¸Šæ‰‹ - å¦‚ä½•å°†å›¾åƒä¼ é€’ç»™ Claude â†’</a></nav>
        </main>
    </div>
</body>
</html>
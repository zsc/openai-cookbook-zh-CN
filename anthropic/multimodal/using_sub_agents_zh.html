<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <title>ä½¿ç”¨ Haiku ä½œä¸ºå­ä»£ç†</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>ç›®å½•</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="æœç´¢..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">extended_thinking</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="extended_thinking/extended_thinking_with_tool_use_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‰©å±•æ€è€ƒä¸å·¥å…·ä½¿ç”¨</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="extended_thinking/extended_thinking_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‰©å±•æ€è€ƒ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">finetuning</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="finetuning/finetuning_on_bedrock_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">åœ¨ Bedrock ä¸Šå¾®è°ƒ Claude 3 Haiku</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">misc</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/batch_processing_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‰¹é‡å¤„ç†æ¶ˆæ¯æ‰¹æ¬¡API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/building_evals_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å»ºç«‹è¯„ä¼°</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/building_moderation_filter_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å»ºç«‹ä¸€ä¸ªå¸¦æœ‰ Claude çš„å®¡æ ¸è¿‡æ»¤å™¨</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/generate_test_cases_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ `extract_variables` å‡½æ•°ï¼Œ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/how_to_enable_json_mode_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æç¤º Claude è·å–â€œJSON æ¨¡å¼â€</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/how_to_make_sql_queries_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¦‚ä½•ä½¿ç”¨ Claude è¿›è¡Œ SQL æŸ¥è¯¢</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/illustrated_responses_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude çš„å›¾ç¤ºåŒ–å“åº”</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/mc_qa_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å®éªŒæ€§æµ‹è¯• Claude çš„é•¿ä¸Šä¸‹æ–‡é—®ç­”èƒ½åŠ›</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/metaprompt_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Metaprompt</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/pdf_upload_summarization_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">â€œä¸Šä¼ â€PDF åˆ° Claude API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/prompt_caching_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¼“å­˜æç¤ºï¼ˆPrompt cachingï¼‰é€šè¿‡ Anthropic API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/read_web_pages_with_haiku_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Claude 3 Haiku æ€»ç»“ç½‘é¡µå†…å®¹</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/sampling_past_max_tokens_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude ä» Claude ä¹‹å¤–çš„é‡‡æ ·å“åº”ï¼Œè¶…å‡ºæœ€å¤§ä»¤ç‰Œé™åˆ¶</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/speculative_prompt_caching_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æŠ•æœºæ€§æç¤ºç¼“å­˜</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="misc/using_citations_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¼•è¨€</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder expanded" data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">multimodal</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/best_practices_for_vision_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/getting_started_with_vision_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¼€å§‹ä¸Šæ‰‹ - å¦‚ä½•å°†å›¾åƒä¼ é€’ç»™ Claude</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/how_to_transcribe_text_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¦‚ä½•ä½¿ç”¨ Claude è½¬å½•æ–‡æ¡£</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="multimodal/reading_charts_graphs_powerpoints_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨å›¾è¡¨å’Œå¹»ç¯ç‰‡æ”¾æ˜ </span>
                        </a>
                    </div>
                
                    <div class="tree-item active" style="padding-left: 20px;">
                        <a href="multimodal/using_sub_agents_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Haiku ä½œä¸ºå­ä»£ç†</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">patterns</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">agents</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/basic_workflows_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">é¦–å…ˆä½¿ç”¨å…·æœ‰æ€ç»´é“¾çš„LLMç¡®å®šé€‚å½“çš„è·¯ç”±</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/evaluator_optimizer_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/orchestrator_workers_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ­¥éª¤1ï¼šè·å–åè°ƒå™¨å“åº”</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="patterns/agents/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ„å»ºé«˜æ•ˆä»£ç†çš„é£Ÿè°±</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">prompts</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="patterns/agents/prompts/citations_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="patterns/agents/prompts/research_lead_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="patterns/agents/prompts/research_subagent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </div></div></div></div></div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">skills</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="skills/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude æŠ€èƒ½</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">classification</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/classification/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è®¾ç½®æˆ‘ä»¬çš„ç¯å¢ƒ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/classification/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude åˆ†ç±»æŒ‡å—</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/classification/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Promptfoo è¿›è¡Œè¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">contextual-embeddings</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/contextual-embeddings/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¢å¼ºæ£€ç´¢çš„RAGä¸ä¸Šä¸‹æ–‡æ£€ç´¢</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/contextual-embeddings/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç»“åˆä¸Šä¸‹æ–‡åµŒå…¥çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">retrieval_augmented_generation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/retrieval_augmented_generation/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Retrieval Augmented Generation (RAG)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/retrieval_augmented_generation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/retrieval_augmented_generation/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Promptfoo è¿›è¡Œè¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">summarization</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/summarization/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ‘˜è¦ä¸ Claude</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/summarization/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude æ‘˜è¦</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/summarization/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Promptfoo è¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">text_to_sql</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/text_to_sql/guide_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Set your Anthropic API key</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="skills/text_to_sql/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Claude çš„æ–‡æœ¬åˆ° SQL</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="skills/text_to_sql/evaluation/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Promptfoo è¯„ä¼°</span>
                        </a>
                    </div>
                </div></div></div></div></div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">third_party</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">Deepgram</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Deepgram/prerecorded_audio_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è½¬å½•æ·±è“éŸ³é¢‘æ–‡ä»¶å¹¶ä½¿ç”¨ Anthropic å‡†å¤‡é¢è¯•é—®é¢˜ï¼</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Deepgram/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Deepgram <> Anthropic Cookbooks</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">LlamaIndex</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Basic_RAG_With_LlamaIndex_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">RAG ç®¡é“ä¸ LlamaIndex</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Multi_Document_Agents_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¤šæ–‡æ¡£ä»£ç†</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Multi_Modal_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¤šæ¨¡æ€</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/ReAct_Agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ReAct Agent</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/README_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">LlamaIndex <> Anthropic Cookbooks</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/Router_Query_Engine_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ³¨æ„ï¼šè¿™ä»…åœ¨ jupyter notebook ä¸­æ˜¯å¿…éœ€çš„ã€‚</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/LlamaIndex/SubQuestion_Query_Engine_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">SubQuestionQueryEngine</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">MongoDB</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/MongoDB/rag_using_mongodb_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å¦‚ä½•ä½¿ç”¨ Claude 3 å’Œ MongoDB æ„å»º RAG ç³»ç»Ÿ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">Pinecone</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Pinecone/claude_3_rag_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">æ£€æŸ¥ Python ç‰ˆæœ¬</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Pinecone/rag_using_pinecone_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Pinecone è¿›è¡Œæ£€ç´¢å¢å¼ºç”Ÿæˆ</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">VoyageAI</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/VoyageAI/how_to_create_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è¿™å°†è‡ªåŠ¨ä½¿ç”¨ç¯å¢ƒå˜é‡VOYAGE_API_KEYã€‚</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">Wikipedia</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/Wikipedia/wikipedia-search-cookbook_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è¿­ä»£æœç´¢ç»´åŸºç™¾ç§‘ä¸ Claude</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">WolframAlpha</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="third_party/WolframAlpha/using_llm_api_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Wolfram Alpha LLM API ä½œä¸º Claude çš„å·¥å…·</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">â–¶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">tool_use</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/calculator_tool_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨è®¡ç®—å™¨å·¥å…·ä¸ Claude</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/customer_service_agent_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·åˆ›å»ºå®¢æœä»£ç†</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/extracting_structured_json_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Claude å’Œå·¥å…·ä½¿ç”¨åŠŸèƒ½æå–ç»“æ„åŒ– JSON</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/memory_cookbook_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">å®‰è£…ä¾èµ–</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/parallel_tools_claude_3_7_sonnet_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">åœ¨ Claude 3.7 Sonnet ä¸Šå¹¶è¡Œè°ƒç”¨å·¥å…·</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/tool_choice_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">é€‰æ‹©å·¥å…·</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/tool_use_with_pydantic_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">è®°äº‹å·¥å…·ï¼Œæ”¯æŒ Pydantic å’Œ Anthropic å·¥å…·ä½¿ç”¨</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="tool_use/vision_with_tools_zh.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ä½¿ç”¨ Vision ä¸å·¥å…·</span>
                        </a>
                    </div>
                </div></div></nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <h1 id="haiku">ä½¿ç”¨ Haiku ä½œä¸ºå­ä»£ç†</h1>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Claude 3 Haiku å­ä»£ç†æ¨¡å‹åˆ†æ Apple 2023 å¹´è´¢åŠ¡æ”¶ç›ŠæŠ¥å‘Šï¼Œä»¥ä»æ”¶ç›Šå‘å¸ƒ PDF ä¸­æå–ç›¸å…³ä¿¡æ¯ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Claude 3 Opus ç”Ÿæˆå¯¹æˆ‘ä»¬é—®é¢˜çš„å›ç­”ï¼Œå¹¶ä½¿ç”¨ matplotlib åˆ›å»ºä¸€ä¸ªå›¾è¡¨æ¥é…åˆå…¶å›ç­”ã€‚</p>
<h2 id="1">ç¬¬ 1 æ­¥ï¼šè®¾ç½®ç¯å¢ƒ</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®‰è£…æ‰€éœ€çš„åº“å¹¶è®¾ç½® Anthropic API å®¢æˆ·ç«¯ã€‚</p>
<pre class="codehilite"><code class="language-python">%pip install anthropic IPython PyMuPDF matplotlib
</code></pre>

<pre class="codehilite"><code class="language-python"># å¯¼å…¥æ‰€éœ€çš„åº“
import fitz
import base64
from PIL import Image
import io
from concurrent.futures import ThreadPoolExecutor
from anthropic import Anthropic
import requests
import os

# è®¾ç½® Anthropic API å®¢æˆ·ç«¯
client = Anthropic()
MODEL_NAME = &quot;claude-3-haiku-20240229&quot;
</code></pre>

<h2 id="2">ç¬¬ 2 æ­¥ï¼šæ”¶é›†æˆ‘ä»¬çš„æ–‡æ¡£å¹¶æå‡ºé—®é¢˜</h2>
<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Apple 2023 å¹´è´¢å¹´çš„æ‰€æœ‰è´¢åŠ¡æŠ¥è¡¨ï¼Œå¹¶è¯¢é—®æœ‰å…³å…¨å¹´å‡€é”€å”®é¢çš„ä¿¡æ¯ã€‚</p>
<pre class="codehilite"><code class="language-python"># Apple æ”¶ç›Šå‘å¸ƒ PDF ç½‘å€åˆ—è¡¨
pdf_urls = [
    &quot;https://www.apple.com/newsroom/pdfs/fy2023-q4/FY23_Q4_Consolidated_Financial_Statements.pdf&quot;,
    &quot;https://www.apple.com/newsroom/pdfs/fy2023-q3/FY23_Q3_Consolidated_Financial_Statements.pdf&quot;,
    &quot;https://www.apple.com/newsroom/pdfs/FY23_Q2_Consolidated_Financial_Statements.pdf&quot;,
    &quot;https://www.apple.com/newsroom/pdfs/FY23_Q1_Consolidated_Financial_Statements.pdf&quot;
]

# ç”¨æˆ·çš„é—®é¢˜
QUESTION = &quot;Apple åœ¨ 2023 è´¢å¹´çš„å‡€é”€å”®é¢å­£åº¦ç¯æ¯”å˜åŒ–å¦‚ä½•ï¼Ÿä¸»è¦è´¡çŒ®è€…æ˜¯ä»€ä¹ˆï¼Ÿ&quot;
</code></pre>

<h2 id="3-pdf">ç¬¬ 3 æ­¥ï¼šä¸‹è½½å¹¶è½¬æ¢ PDF ä¸ºå›¾åƒ</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä¹‰å‡½æ•°ä»¥ä¸‹è½½æ”¶ç›Šå‘å¸ƒ PDF å¹¶å°†å…¶è½¬æ¢ä¸º base64 ç¼–ç çš„ PNG å›¾åƒã€‚æˆ‘ä»¬å¿…é¡»è¿™æ ·åšï¼Œå› ä¸ºè¿™äº› PDF å……æ»¡äº†éš¾ä»¥ç”¨ä¼ ç»Ÿ PDF è§£æå™¨è§£æçš„è¡¨æ ¼ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯å°†å®ƒä»¬è½¬æ¢ä¸ºå›¾åƒå¹¶å°†å›¾åƒä¼ é€’ç»™ Haikuï¼Œä¼šæ›´å®¹æ˜“ã€‚</p>
<pre class="codehilite"><code class="language-python"># å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºä» URL ä¸‹è½½ PDF æ–‡ä»¶å¹¶å°†å…¶ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶å¤¹
def download_pdf(url, folder):
    response = requests.get(url)
    if response.status_code == 200:
        file_name = os.path.join(folder, url.split(&quot;/&quot;)[-1])
        with open(file_name, &quot;wb&quot;) as file:
            file.write(response.content)
        return file_name
    else:
        print(f&quot;ä» {url} ä¸‹è½½ PDF å¤±è´¥&quot;)
        return None

# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°† PDF è½¬æ¢ä¸º base64 ç¼–ç çš„ PNG å›¾åƒåˆ—è¡¨
def pdf_to_base64_pngs(pdf_path, quality=75, max_size=(1024, 1024)):
    # æ‰“å¼€ PDF æ–‡ä»¶
    doc = fitz.open(pdf_path)

    base64_encoded_pngs = []

    # éå† PDF çš„æ¯ä¸€é¡µ
    for page_num in range(doc.page_count):
        # åŠ è½½é¡µé¢
        page = doc.load_page(page_num)

        # å°†é¡µé¢æ¸²æŸ“ä¸º PNG å›¾åƒ
        pix = page.get_pixmap(matrix=fitz.Matrix(300/72, 300/72))

        # å°† pixmap è½¬æ¢ä¸º PIL å›¾åƒ
        image = Image.frombytes(&quot;RGB&quot;, [pix.width, pix.height], pix.samples)

        # å¦‚æœå›¾åƒè¶…è¿‡æœ€å¤§å°ºå¯¸ï¼Œåˆ™è°ƒæ•´å›¾åƒå¤§å°
        if image.size[0] &gt; max_size[0] or image.size[1] &gt; max_size[1]:
            image.thumbnail(max_size, Image.Resampling.LANCZOS)

        # å°† PIL å›¾åƒè½¬æ¢ä¸º base64 ç¼–ç çš„ PNG
        image_data = io.BytesIO()
        image.save(image_data, format='PNG', optimize=True, quality=quality)
        image_data.seek(0)
        base64_encoded = base64.b64encode(image_data.getvalue()).decode('utf-8')
        base64_encoded_pngs.append(base64_encoded)

    # å…³é—­ PDF æ–‡æ¡£
    doc.close()

    return base64_encoded_pngs

# ç”¨äºä¿å­˜ä¸‹è½½çš„ PDF çš„æ–‡ä»¶å¤¹
folder = &quot;../images/using_sub_agents&quot;


# å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºç›®å½•
os.makedirs(folder)

# å¹¶å‘ä¸‹è½½ PDF
with ThreadPoolExecutor() as executor:
    pdf_paths = list(executor.map(download_pdf, pdf_urls, [folder] * len(pdf_urls)))

# ä» pdf_paths ä¸­åˆ é™¤ä»»ä½• None å€¼ï¼ˆä¸‹è½½å¤±è´¥ï¼‰
pdf_paths = [path for path in pdf_paths if path is not None]
</code></pre>

<p>æˆ‘ä»¬ä½¿ç”¨ ThreadPoolExecutor å¹¶å‘ä¸‹è½½ PDFï¼Œå¹¶å°†æ–‡ä»¶è·¯å¾„å­˜å‚¨åœ¨ pdf_paths ä¸­ã€‚</p>
<h2 id="4-haiku-opus">ç¬¬ 4 æ­¥ï¼šç”Ÿæˆ Haiku çš„ç‰¹å®šæç¤ºï¼Œä½¿ç”¨ Opus</h2>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ Opus ä½œä¸ºåè°ƒå™¨ï¼Œè®©å®ƒä¸ºæ¯ä¸ª Haiku å­ä»£ç†æ ¹æ®ç”¨æˆ·æä¾›çš„é—®é¢˜ç¼–å†™ä¸€ä¸ªç‰¹å®šçš„æç¤ºã€‚</p>
<pre class="codehilite"><code class="language-python">def generate_haiku_prompt(question):
    messages = [
        {
            &quot;role&quot;: &quot;user&quot;,
            &quot;content&quot;: [
                {&quot;type&quot;: &quot;text&quot;, &quot;text&quot;: f&quot;æ ¹æ®ä»¥ä¸‹é—®é¢˜ï¼Œè¯·ä¸º LLM å­ä»£ç†ç”Ÿæˆä¸€ä¸ªç‰¹å®šæç¤ºï¼Œä»¥ä»æ”¶ç›ŠæŠ¥å‘Š PDF ä¸­æå–ç›¸å…³ä¿¡æ¯ã€‚æ¯ä¸ªå­ä»£ç†åªèƒ½è®¿é—®ä¸€ä¸ªå­£åº¦çš„æ”¶ç›ŠæŠ¥å‘Šã€‚ä»…è¾“å‡ºæç¤ºï¼Œä¸è¾“å‡ºå…¶ä»–ä»»ä½•å†…å®¹ã€‚\n\né—®é¢˜ï¼š{question}&quot;}
            ]
        }
    ]

    response = client.messages.create(
        model=&quot;claude-3-opus-20240229&quot;,
        max_tokens=2048,
        messages=messages
    )

    return response.content[0].text

haiku_prompt = generate_haiku_prompt(QUESTION)
print(haiku_prompt)
</code></pre>

<pre class="codehilite"><code>ä»æœ¬å­£åº¦çš„ Apple æ”¶ç›ŠæŠ¥å‘Š PDF ä¸­æå–ä»¥ä¸‹ä¿¡æ¯ï¼š

1. æœ¬å­£åº¦çš„ Apple å‡€é”€å”®é¢
2. å‡€é”€å”®é¢çš„å­£åº¦ç¯æ¯”å˜åŒ–
3. å¯¹å‡€é”€å”®é¢å˜åŒ–æœ‰æ˜¾è‘—è´¡çŒ®çš„å…³é”®äº§å“ç±»åˆ«ã€æœåŠ¡æˆ–åœ°åŒº
4. æä¾›çš„æœ‰å…³å‡€é”€å”®é¢å˜åŒ–çš„ä»»ä½•è§£é‡Š

ä»¥æ¸…æ™°ã€ç®€æ´çš„æ ¼å¼ç»„ç»‡æå–çš„ä¿¡æ¯ï¼Œé‡ç‚¹å…³æ³¨ä¸æœ¬å­£åº¦å‡€é”€å”®é¢å˜åŒ–ç›¸å…³çš„å…³é”®æ•°æ®ç‚¹å’Œè§è§£ã€‚
</code></pre>

<h2 id="5-pdf">ç¬¬ 5 æ­¥ï¼šä» PDF ä¸­æå–ä¿¡æ¯</h2>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®šä¹‰æˆ‘ä»¬çš„é—®é¢˜ï¼Œå¹¶ä½¿ç”¨å­ä»£ç† Haiku æ¨¡å‹ä» PDF ä¸­æå–ä¿¡æ¯ã€‚æˆ‘ä»¬å°†æ¯ä¸ªæ¨¡å‹çš„ä¿¡æ¯æ ¼å¼åŒ–ä¸ºä¸€ç»„æ ¼å¼è‰¯å¥½çš„ XML æ ‡ç­¾ã€‚</p>
<pre class="codehilite"><code class="language-python">def extract_info(pdf_path, haiku_prompt):
    base64_encoded_pngs = pdf_to_base64_pngs(pdf_path)

    messages = [
        {
            &quot;role&quot;: &quot;user&quot;,
            &quot;content&quot;: [
                *[{&quot;type&quot;: &quot;image&quot;, &quot;source&quot;: {&quot;type&quot;: &quot;base64&quot;, &quot;media_type&quot;: &quot;image/png&quot;, &quot;data&quot;: base64_encoded_png}} for base64_encoded_png in base64_encoded_pngs],
                {&quot;type&quot;: &quot;text&quot;, &quot;text&quot;: haiku_prompt}
            ]
        }
    ]

    response = client.messages.create(
        model=&quot;claude-3-haiku-20240307&quot;,
        max_tokens=2048,
        messages=messages
    )

    return response.content[0].text, pdf_path

def process_pdf(pdf_path):
    return extract_info(pdf_path, haiku_prompt)

# ä½¿ç”¨ Haiku å­ä»£ç†æ¨¡å‹å¹¶å‘å¤„ç† PDF
with ThreadPoolExecutor() as executor:
    extracted_info_list = list(executor.map(process_pdf, pdf_paths))

extracted_info = &quot;&quot;
# æ˜¾ç¤ºæ¯æ¬¡æ¨¡å‹è°ƒç”¨æå–çš„ä¿¡æ¯
for info in extracted_info_list:
    extracted_info += &quot;&lt;info quarter=\&quot;&quot; + info[1].split(&quot;/&quot;)[-1].split(&quot;_&quot;)[1] + &quot;\&quot;&gt;&quot; + info[0] + &quot;&lt;/info&gt;\n&quot;
print(extracted_info)
</code></pre>

<pre class="codehilite"><code>&lt;info quarter=&quot;Q4&quot;&gt;æ ¹æ®åˆå¹¶è´¢åŠ¡æŠ¥è¡¨æ‘˜è¦ï¼ŒApple åœ¨ 2023 è´¢å¹´çš„å‡€é”€å”®é¢å˜åŒ–å¦‚ä¸‹ï¼š

æˆªè‡³ 2023 å¹´ 9 æœˆ 30 æ—¥çš„å­£åº¦ï¼š

- å‡€é”€å”®é¢ä¸º 894.98 äº¿ç¾å…ƒï¼Œé«˜äºå»å¹´åŒæœŸçš„ 901.46 äº¿ç¾å…ƒã€‚
- äº§å“é”€å”®é¢ä¸º 671.84 äº¿ç¾å…ƒï¼ŒæœåŠ¡é”€å”®é¢ä¸º 223.14 äº¿ç¾å…ƒã€‚

å˜åŒ–çš„ä¸»è¦è´¡çŒ®è€…ï¼š

- äº§å“é”€å”®é¢ä»å»å¹´åŒæœŸçš„ 709.58 äº¿ç¾å…ƒä¸‹é™ã€‚
- æœåŠ¡é”€å”®é¢ä»å»å¹´åŒæœŸçš„ 191.88 äº¿ç¾å…ƒå¢é•¿ã€‚

æ€»ä½“è€Œè¨€ï¼Œä¸å»å¹´åŒæœŸç›¸æ¯”ï¼ŒApple çš„æ€»å‡€é”€å”®é¢ç•¥æœ‰ä¸‹é™ï¼Œè¿™ä¸»è¦æ˜¯ç”±äºäº§å“é”€å”®é¢ä¸‹é™ï¼Œä½†æœåŠ¡é”€å”®é¢çš„å¢é•¿åœ¨ä¸€å®šç¨‹åº¦ä¸ŠæŠµæ¶ˆäº†è¿™ç§ä¸‹é™ã€‚&lt;/info&gt;
&lt;info quarter=&quot;Q3&quot;&gt;æ ¹æ®æä¾›çš„è´¢åŠ¡æŠ¥è¡¨ï¼ŒApple åœ¨ 2023 è´¢å¹´å„å­£åº¦ä¹‹é—´çš„å‡€é”€å”®é¢å˜åŒ–å¦‚ä¸‹ï¼š

- æˆªè‡³ 2023 å¹´ 7 æœˆ 1 æ—¥çš„ä¸‰ä¸ªæœˆå‡€é”€å”®é¢ä¸º 817.97 äº¿ç¾å…ƒï¼Œè€Œæˆªè‡³ 2022 å¹´ 6 æœˆ 25 æ—¥çš„ä¸‰ä¸ªæœˆä¸º 829.59 äº¿ç¾å…ƒã€‚è¿™ä»£è¡¨å­£åº¦ç¯æ¯”å¢é•¿çº¦ 11.62 äº¿ç¾å…ƒã€‚

å¢é•¿çš„ä¸»è¦è´¡çŒ®è€…ä¼¼ä¹æ˜¯ï¼š

- äº§å“é”€å”®é¢ä» 605.84 äº¿ç¾å…ƒå¢è‡³ 633.55 äº¿ç¾å…ƒï¼Œå¢é•¿çº¦ 27.71 äº¿ç¾å…ƒã€‚
- æœåŠ¡é”€å”®é¢ä» 212.13 äº¿ç¾å…ƒå¢è‡³ 196.04 äº¿ç¾å…ƒï¼Œå¢é•¿çº¦ 16.09 äº¿ç¾å…ƒã€‚

å› æ­¤ï¼Œäº§å“é”€å”®é¢å’ŒæœåŠ¡é”€å”®é¢çš„å¢é•¿éƒ½ä¿ƒæˆäº† Apple åœ¨ 2023 è´¢å¹´è¿™ä¸¤ä¸ªå­£åº¦ä¹‹é—´å‡€é”€å”®é¢çš„æ•´ä½“å¢é•¿ã€‚&lt;/info&gt;
&lt;info quarter=&quot;Q2&quot;&gt;æ ¹æ®è´¢åŠ¡æŠ¥è¡¨ï¼ŒApple åœ¨ 2023 è´¢å¹´å„å­£åº¦ä¹‹é—´çš„å‡€é”€å”®é¢å˜åŒ–æ˜¾è‘—ï¼š

- æˆªè‡³ 2023 å¹´ 4 æœˆ 1 æ—¥çš„ä¸‰ä¸ªæœˆï¼Œå‡€é”€å”®é¢ä¸º 948.36 äº¿ç¾å…ƒã€‚
- æˆªè‡³ 2022 å¹´ 3 æœˆ 26 æ—¥çš„å…­ä¸ªæœˆï¼Œå‡€é”€å”®é¢ä¸º 972.78 äº¿ç¾å…ƒã€‚

è¿™è¡¨æ˜å‡€é”€å”®é¢ä»å‰å…­ä¸ªæœˆçš„çº¦ 24.42 äº¿ç¾å…ƒä¸‹é™åˆ°æœ€è¿‘ä¸‰ä¸ªæœˆçš„çº¦ 24.42 äº¿ç¾å…ƒã€‚

å‡€é”€å”®é¢å˜åŒ–çš„ä¸»è¦è´¡çŒ®è€…ä¼¼ä¹æ˜¯ï¼š

1. äº§å“é”€å”®é¢ä»å‰å…­ä¸ªæœˆçš„ 1075.60 äº¿ç¾å…ƒä¸‹é™åˆ°æœ€è¿‘ä¸‰ä¸ªæœˆçš„ 739.29 äº¿ç¾å…ƒã€‚
2. æœåŠ¡é”€å”®é¢ä»å‰å…­ä¸ªæœˆçš„ 416.73 äº¿ç¾å…ƒä¸‹é™åˆ°æœ€è¿‘ä¸‰ä¸ªæœˆçš„ 209.07 äº¿ç¾å…ƒã€‚

å› æ­¤ï¼Œäº§å“é”€å”®é¢çš„ä¸‹é™æ˜¯å¯¼è‡´å‰ä¸€æ—¶æœŸåˆ°æœ€è¿‘ä¸€ä¸ªå­£åº¦å‡€é”€å”®é¢æ•´ä½“ä¸‹é™çš„ä¸»è¦åŸå› ã€‚&lt;/info&gt;
&lt;info quarter=&quot;Q1&quot;&gt;æ ¹æ®åˆå¹¶è´¢åŠ¡æŠ¥è¡¨æ‘˜è¦ï¼ŒApple çš„å‡€é”€å”®é¢ä»æˆªè‡³ 2022 å¹´ 12 æœˆ 31 æ—¥çš„ä¸‰ä¸ªæœˆçš„ 1171.54 äº¿ç¾å…ƒå¢è‡³æˆªè‡³ 2021 å¹´ 12 æœˆ 25 æ—¥çš„ä¸‰ä¸ªæœˆçš„ 1239.45 äº¿ç¾å…ƒã€‚è¿™ä»£è¡¨äº†å­£åº¦ç¯æ¯”å‡€é”€å”®é¢çš„å¢é•¿ã€‚

å˜åŒ–çš„ä¸»è¦è´¡çŒ®è€…æ˜¯ï¼š

1. äº§å“é”€å”®æ”¶å…¥ä» 963.88 äº¿ç¾å…ƒå¢è‡³ 1044.29 äº¿ç¾å…ƒã€‚
2. æœåŠ¡æ”¶å…¥ä» 207.66 äº¿ç¾å…ƒå¢è‡³ 195.16 äº¿ç¾å…ƒã€‚

å› æ­¤ï¼Œå‡€é”€å”®é¢çš„æ•´ä½“å¢é•¿ä¸»è¦å¾—ç›Šäºäº§å“é”€å”®é¢çš„æé«˜ï¼ŒæœåŠ¡æ”¶å…¥ä¹Ÿæ˜¾ç¤ºå‡ºå­£åº¦ç¯æ¯”çš„å°å¹…å¢é•¿ã€‚&lt;/info&gt;
</code></pre>

<p>æˆ‘ä»¬ä½¿ç”¨å­ä»£ç†æ¨¡å‹å¹¶å‘æå– PDF ä¿¡æ¯ï¼Œå¹¶åˆå¹¶æå–çš„ä¿¡æ¯ã€‚ç„¶åï¼Œæˆ‘ä»¬å‡†å¤‡åŒ…å«é—®é¢˜å’Œæå–ä¿¡æ¯çš„æ¨¡å‹æ¶ˆæ¯ï¼Œå¹¶è¦æ±‚å®ƒç”Ÿæˆå“åº”å’Œ matplotlib ä»£ç ã€‚</p>
<h2 id="6-opus">ç¬¬ 6 æ­¥ï¼šå°†ä¿¡æ¯ä¼ é€’ç»™ Opus ä»¥ç”Ÿæˆå“åº”</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä½¿ç”¨å­ä»£ç†ä»æ¯ä¸ª PDF ä¸­è·å–äº†ä¿¡æ¯ï¼Œè®©æˆ‘ä»¬è°ƒç”¨ Opus æ¥å®é™…å›ç­”é—®é¢˜å¹¶ç¼–å†™ä»£ç æ¥åˆ›å»ºå›¾è¡¨ä»¥é…åˆç­”æ¡ˆã€‚</p>
<pre class="codehilite"><code class="language-python"># å‡†å¤‡å¼ºå¤§æ¨¡å‹çš„æ¶ˆæ¯
messages = [
    {
        &quot;role&quot;: &quot;user&quot;,
        &quot;content&quot;: [
            {&quot;type&quot;: &quot;text&quot;, &quot;text&quot;: f&quot;æ ¹æ®ä» Apple æ”¶ç›Šå‘å¸ƒä¸­æå–çš„ä»¥ä¸‹ä¿¡æ¯ï¼Œè¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š{QUESTION}\n\næ­¤å¤–ï¼Œè¯·ä½¿ç”¨ matplotlib åº“ç”Ÿæˆ Python ä»£ç ä»¥é…åˆæ‚¨çš„å›ç­”ã€‚å°†ä»£ç åŒ…å«åœ¨ &lt;code&gt; æ ‡ç­¾å†…ã€‚\n\næå–çš„ä¿¡æ¯ï¼š\n{extracted_info}&quot;}
        ]
    }
]

# ä½¿ç”¨å¼ºå¤§æ¨¡å‹ç”Ÿæˆ matplotlib ä»£ç 
response = client.messages.create(
    model=&quot;claude-3-opus-20240229&quot;,
    max_tokens=4096,
    messages=messages
)

generated_response = response.content[0].text
print(&quot;ç”Ÿæˆçš„å“åº”ï¼š&quot;)
print(generated_response)
</code></pre>

<pre class="codehilite"><code>ç”Ÿæˆçš„å“åº”ï¼š
æ ¹æ®ä» Apple æ”¶ç›Šå‘å¸ƒä¸­æå–çš„ä¿¡æ¯ï¼ŒApple åœ¨ 2023 è´¢å¹´çš„å‡€é”€å”®é¢å˜åŒ–å¦‚ä¸‹ï¼š

ç¬¬ä¸€å­£åº¦ï¼Œå‡€é”€å”®é¢ä»ä¸Šä¸€å­£åº¦çš„ 1171.54 äº¿ç¾å…ƒå¢è‡³ 1239.45 äº¿ç¾å…ƒï¼Œè¿™å¾—ç›Šäºäº§å“é”€å”®é¢å’ŒæœåŠ¡æ”¶å…¥çš„å¢é•¿ã€‚

ç¬¬äºŒå­£åº¦ï¼Œä¸å‰å…­ä¸ªæœˆç›¸æ¯”ï¼Œå‡€é”€å”®é¢ä¸‹é™äº†çº¦ 24.42 äº¿ç¾å…ƒï¼Œè¿™ä¸»è¦æ˜¯ç”±äºäº§å“é”€å”®é¢ä¸‹é™ï¼Œä½†æœåŠ¡é”€å”®é¢çš„å¢é•¿åœ¨ä¸€å®šç¨‹åº¦ä¸ŠæŠµæ¶ˆäº†è¿™ç§ä¸‹é™ã€‚

ç¬¬ä¸‰å­£åº¦ï¼Œä¸ä¸Šä¸€å­£åº¦ç›¸æ¯”ï¼Œå‡€é”€å”®é¢å¢é•¿äº†çº¦ 11.62 äº¿ç¾å…ƒï¼Œäº§å“é”€å”®é¢å’ŒæœåŠ¡é”€å”®é¢çš„å¢é•¿éƒ½ä¸ºæ•´ä½“å¢é•¿åšå‡ºäº†è´¡çŒ®ã€‚

ç¬¬å››å­£åº¦ï¼Œä¸å»å¹´åŒæœŸç›¸æ¯”ï¼Œæ€»å‡€é”€å”®é¢ç•¥æœ‰ä¸‹é™ï¼Œè¿™ä¸»è¦æ˜¯ç”±äºäº§å“é”€å”®é¢ä¸‹é™ï¼Œä½†æœåŠ¡é”€å”®é¢çš„å¢é•¿åœ¨ä¸€å®šç¨‹åº¦ä¸ŠæŠµæ¶ˆäº†è¿™ç§ä¸‹é™ã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨ matplotlib åº“å¯è§†åŒ–å­£åº¦å‡€é”€å”®é¢æ•°æ®çš„ Python ä»£ç ç‰‡æ®µï¼š

&lt;code&gt;
import matplotlib.pyplot as plt

quarters = ['Q1', 'Q2', 'Q3', 'Q4']
net_sales = [123945, 94836, 82959, 89498]

plt.figure(figsize=(8, 6))
plt.bar(quarters, net_sales, color='skyblue', width=0.6)
plt.xlabel('Quarter')
plt.ylabel('Net Sales (in millions)')
plt.title('Apple Net Sales by Quarter - FY 2023')
plt.xticks(quarters)
plt.yticks([0, 20000, 40000, 60000, 80000, 100000, 120000])
plt.grid(True, linestyle='--', alpha=0.5)

for i, v in enumerate(net_sales):
    plt.text(i, v + 1000, f'${v:,.0f}', ha='center', fontsize=10)

plt.show()
&lt;/code&gt;

æ­¤ä»£ç åˆ›å»ºäº†ä¸€ä¸ªæ¡å½¢å›¾ï¼Œæ˜¾ç¤ºäº† Apple åœ¨ 2023 è´¢å¹´æ¯ä¸ªå­£åº¦çš„å‡€é”€å”®é¢ã€‚x è½´ä»£è¡¨å­£åº¦ï¼Œy è½´ä»£è¡¨å‡€é”€å”®é¢ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰ã€‚å›¾è¡¨è¿˜åŒ…æ‹¬æ•°æ®æ ‡ç­¾ï¼Œæ˜¾ç¤ºæ¯ä¸ªå­£åº¦çš„ç¡®åˆ‡å‡€é”€å”®é¢å€¼ã€‚
</code></pre>

<h2 id="7-matplotlib">ç¬¬ 7 æ­¥ï¼šæå–å“åº”å¹¶æ‰§è¡Œ Matplotlib ä»£ç </h2>
<p>æœ€åï¼Œè®©æˆ‘ä»¬ä»ç”Ÿæˆçš„å“åº”ä¸­æå– matplotlib ä»£ç å¹¶æ‰§è¡Œå®ƒï¼Œä»¥å¯è§†åŒ–æ”¶å…¥å¢é•¿è¶‹åŠ¿ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰äº† <code>extract_code_and_response</code> å‡½æ•°æ¥ä»ç”Ÿæˆçš„å“åº”ä¸­æå– matplotlib ä»£ç å’Œéä»£ç å“åº”ã€‚æˆ‘ä»¬æ‰“å°éä»£ç å“åº”ï¼Œå¹¶åœ¨æ‰¾åˆ° matplotlib ä»£ç æ—¶æ‰§è¡Œå®ƒã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåœ¨æ²™ç®±å¤–ä½¿ç”¨ <code>exec</code> æ‰§è¡Œæ¨¡å‹ç¼–å†™çš„ä»£ç ä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œä½†å‡ºäºæ¼”ç¤ºç›®çš„ï¼Œæˆ‘ä»¬æ­£åœ¨è¿™æ ·åš :)</p>
<pre class="codehilite"><code class="language-python"># ä»å“åº”ä¸­æå– matplotlib ä»£ç 
# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºä»å“åº”ä¸­æå–ä»£ç å’Œéä»£ç éƒ¨åˆ†
def extract_code_and_response(response):
    start_tag = &quot;&lt;code&gt;&quot;
    end_tag = &quot;&lt;/code&gt;&quot;
    start_index = response.find(start_tag)
    end_index = response.find(end_tag)
    if start_index != -1 and end_index != -1:
        code = response[start_index + len(start_tag):end_index].strip()
        non_code_response = response[:start_index].strip()
        return code, non_code_response
    else:
        return None, response.strip()

matplotlib_code, non_code_response = extract_code_and_response(generated_response)

print(non_code_response)
if matplotlib_code:

    # æ‰§è¡Œæå–çš„ matplotlib ä»£ç 
    exec(matplotlib_code)
else:
    print(&quot;å“åº”ä¸­æœªæ‰¾åˆ° matplotlib ä»£ç ã€‚&quot;)
</code></pre>

<pre class="codehilite"><code>æ ¹æ®ä» Apple æ”¶ç›Šå‘å¸ƒä¸­æå–çš„ä¿¡æ¯ï¼ŒApple åœ¨ 2023 è´¢å¹´çš„å‡€é”€å”®é¢å˜åŒ–å¦‚ä¸‹ï¼š

ç¬¬ä¸€å­£åº¦ï¼Œå‡€é”€å”®é¢ä»ä¸Šä¸€å­£åº¦çš„ 1171.54 äº¿ç¾å…ƒå¢è‡³ 1239.45 äº¿ç¾å…ƒï¼Œè¿™å¾—ç›Šäºäº§å“é”€å”®é¢å’ŒæœåŠ¡æ”¶å…¥çš„å¢é•¿ã€‚

ç¬¬äºŒå­£åº¦ï¼Œä¸å‰å…­ä¸ªæœˆç›¸æ¯”ï¼Œå‡€é”€å”®é¢ä¸‹é™äº†çº¦ 24.42 äº¿ç¾å…ƒï¼Œè¿™ä¸»è¦æ˜¯ç”±äºäº§å“é”€å”®é¢ä¸‹é™ï¼Œä½†æœåŠ¡é”€å”®é¢çš„å¢é•¿åœ¨ä¸€å®šç¨‹åº¦ä¸ŠæŠµæ¶ˆäº†è¿™ç§ä¸‹é™ã€‚

ç¬¬ä¸‰å­£åº¦ï¼Œä¸ä¸Šä¸€å­£åº¦ç›¸æ¯”ï¼Œå‡€é”€å”®é¢å¢é•¿äº†çº¦ 11.62 äº¿ç¾å…ƒï¼Œäº§å“é”€å”®é¢å’ŒæœåŠ¡é”€å”®é¢çš„å¢é•¿éƒ½ä¸ºæ•´ä½“å¢é•¿åšå‡ºäº†è´¡çŒ®ã€‚

ç¬¬å››å­£åº¦ï¼Œä¸å»å¹´åŒæœŸç›¸æ¯”ï¼Œæ€»å‡€é”€å”®é¢ç•¥æœ‰ä¸‹é™ï¼Œè¿™ä¸»è¦æ˜¯ç”±äºäº§å“é”€å”®é¢ä¸‹é™ï¼Œä½†æœåŠ¡é”€å”®é¢çš„å¢é•¿åœ¨ä¸€å®šç¨‹åº¦ä¸ŠæŠµæ¶ˆäº†è¿™ç§ä¸‹é™ã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨ matplotlib åº“å¯è§†åŒ–å­£åº¦å‡€é”€å”®é¢æ•°æ®çš„ Python ä»£ç ç‰‡æ®µï¼š
</code></pre>

<p><img alt="png" src="using_sub_agents_files/using_sub_agents_17_1.png" /></p>
            </article>
            
            <nav class="page-nav"><a href="third_party/WolframAlpha/using_llm_api_zh.html" class="nav-link prev">â† ä½¿ç”¨ Wolfram Alpha LLM API ä½œä¸º Claude çš„å·¥å…·</a><a href="tool_use/vision_with_tools_zh.html" class="nav-link next">ä½¿ç”¨ Vision ä¸å·¥å…· â†’</a></nav>
        </main>
    </div>
</body>
</html>
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <title>OpenAI Completions 使用 API 扩展示例</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>目录</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="搜索..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-item " >
                        <a href="README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">articles</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/how_to_work_with_large_language_models_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用大型语言模型</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/openai-harmony_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">OpenAI harmony 响应格式</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/related_resources_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">网上相关资源</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/run-nvidia_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 NVIDIA TensorRT-LLM 优化 OpenAI GPT-OSS 模型</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/techniques_to_improve_reliability_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">提高可靠性的技术</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/text_comparison_examples_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">文本比较示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="articles/what_makes_documentation_good_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">什么样的文档是好文档</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">gpt-oss</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/fine-tune-transfomers_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">微调多语言推理器，使用 Hugging Face</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/handle-raw-cot_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">gpt-oss 中如何处理原始思维链</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/run-colab_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/run-locally-lmstudio_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何在本地使用 LM Studio 运行 gpt-oss</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/run-locally-ollama_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何在本地运行 gpt-oss 并使用 Ollama</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/run-transformers_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用 Hugging Face Transformers 运行 gpt-oss</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="articles/gpt-oss/run-vllm_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用 vLLM 运行 gpt-oss</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder expanded" data-level="0" >
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">examples</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Assistants_API_overview_python_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Assistants API 概述 (Python SDK)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/batch_processing_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">批量处理与 Batch API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Chat_finetuning_data_prep_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">数据准备与分析，用于聊天模型微调</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Classification_using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">split data into train and test</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Clustering_for_transaction_classification_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">交易分类聚类</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Clustering_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">导入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Code_search_using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">数据加载</span>
                        </a>
                    </div>
                
                    <div class="tree-item active" style="padding-left: 20px;">
                        <a href="examples/completions_usage_api_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">OpenAI Completions 使用 API 扩展示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Context_summarization_with_realtime_api_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">摘要 — 实时 API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Creating_slides_with_Assistants_API_and_DALL-E3_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Assistants API (GPT-4) 和 DALL·E-3 创建幻灯片</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Custom-LLM-as-a-Judge_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Braintrust 构建 LLM-as-a-judge 评估来检测幻觉</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/custom_image_embedding_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">安装</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Customizing_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">0. 导入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Data-intensive-Realtime-apps_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">实用指南：使用实时 API 处理数据密集型应用</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Data_extraction_transformation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Developing_hallucination_guardrails_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">设置 pandas 显示选项的函数</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Embedding_long_inputs_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Embedding 长度超过模型最大上下文的文本</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Embedding_Wikipedia_articles_for_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">嵌入维基百科文章以供搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Enhance_your_prompts_with_meta_prompting_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">元提示：自动化提示优化指南</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Entity_extraction_for_long_documents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">长文档内容提取</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/File_Search_Responses_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用文件搜索工具的响应 API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Fine-tuned_classification_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">示例：微调分类器</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Fine_tuning_for_function_calling_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Function_calling_finding_nearby_places_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">函数调用，查找附近地点：利用谷歌地图 API 和客户档案</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Function_calling_with_an_OpenAPI_spec_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Function-calling with an OpenAPI specification</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Generate_Images_With_GPT_Image_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 GPT Image 生成和编辑图像</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Generate_Images_With_High_Input_Fidelity_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">以高输入保真度生成图像</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Get_embeddings_from_dataset_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">从数据集中获取嵌入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/gpt4-1_prompting_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT-4.1 提示指南</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_build_a_tool-using_agent_with_Langchain_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用 LangChain 构建一个使用工具的 Agent</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_call_functions_for_knowledge_retrieval_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用具有知识库的函数</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_call_functions_with_chat_models_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何结合聊天模型调用函数</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_combine_GPT4o_with_RAG_Outfit_Assistant_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何结合 GPT-4o Mini 与 RAG - 创建服装搭配应用</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_count_tokens_with_tiktoken_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用 tiktoken 计算 token 数量</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_finetune_chat_models_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何微调聊天模型</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_format_inputs_to_ChatGPT_models_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何为 ChatGPT 模型格式化输入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_handle_rate_limits_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何处理速率限制</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_stream_completions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何流式传输补全</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_use_guardrails_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用护栏</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/How_to_use_moderation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用审核 API</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Leveraging_model_distillation_to_fine-tune_a_model_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">利用模型蒸馏微调模型</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Multiclass_classification_for_transactions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">多类别交易分类</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Named_Entity_Recognition_to_enrich_text_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">naively consider the first result as the best</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Optimize_Prompts_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">优化提示词</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Orchestrating_agents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">代理编排：例程和交接</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Prompt_Caching101_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">提示缓存入门</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Prompt_migration_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Question_answering_using_a_search_API_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Question_answering_using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用基于嵌入的搜索来回答问题</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/RAG_with_graph_db_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">检索增强生成与图数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/reasoning_function_calls_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用推理模型管理函数调用</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Recommendation_using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用嵌入和最近邻搜索进行推荐</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Regression_using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Reinforcement_Fine_Tuning_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">**探索用于强化微调的模型评分器**</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Reproducible_outputs_with_the_seed_parameter_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何通过新的 seed 参数使您的 completions 输出可复现</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/SDG1_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">生成合成数据（第一部分）</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Search_reranking_with_cross-encoders_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">搜索重排与交叉编码器</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Semantic_text_search_using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">搜索特定产品的评论</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Speech_transcription_methods_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">🗣️ 说话转文本方法与 OpenAI API 的比较</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Structured_Outputs_Intro_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">结构化输出简介</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Structured_outputs_multi_agent_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">结构化输出用于多代理系统</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Summarizing_long_documents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">总结长文档</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Tag_caption_images_with_GPT4V_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 GPT-4o mini 标记和说明图片</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Unit_test_writing_using_a_multi-step_prompt_with_older_completions_API_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">单元测试编写：多步提示（使用旧版 API）</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Unit_test_writing_using_a_multi-step_prompt_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">多步提示单元测试</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/User_and_product_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">将嵌入作为推荐项在 X_test 上进行评估</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Using_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">负面示例（速度慢且有速率限制）</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Using_logprobs_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 logprobs 进行分类和问答评估</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Using_tool_required_for_customer_service_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用工具处理客户服务</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Visualizing_embeddings_in_2D_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">加载嵌入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Visualizing_embeddings_in_3D_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">三维可视化嵌入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Whisper_correct_misspelling_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">imports</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Whisper_processing_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Whisper_prompting_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">提示词指南</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 20px;">
                        <a href="examples/Zero-shot_classification_with_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">convert 5-star rating to binary sentiment</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">agents_sdk</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/agents_sdk/dispute_agent_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">引言</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/agents_sdk/evaluate_agents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Langfuse 评估代理</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/agents_sdk/parallel_agents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">并行运行OpenAI Agents SDK的专用代理</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">multi-agent-portfolio-collaboration</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/multi_agent_portfolio_collaboration_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">多智能体编排与OpenAI Agents SDK：金融投资组合分析示例</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">prompts</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/code_interpreter_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">代码解释器提示（最佳实践，GPT-4.1）</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/editor_base_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">备忘录编辑器 – 提示</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/fundamental_base_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">首席基本面分析师 – 提示</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/macro_base_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/pm_base_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">投资组合经理 – 系统提示</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/quant_base_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">定量研究员 – 提示</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/agents_sdk/multi-agent-portfolio-collaboration/prompts/tool_retry_prompt_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">工具调用重试说明</span>
                        </a>
                    </div>
                </div></div></div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">azure</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/azure/chat_with_your_own_data_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure chat completion models with your own data (preview)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/azure/chat_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 聊天补全示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/azure/embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 嵌入示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/azure/functions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 函数示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/azure/whisper_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 音频耳语（预览）示例</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">archive</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/chat_with_your_own_data_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure OpenAI on your own data is only supported by the 2023-08-01-preview API version</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/chat_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 聊天补全示例 (预览)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/completions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure completions 示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/DALL-E_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure DALL·E 图像生成示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 嵌入示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/functions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 函数示例</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/azure/archive/whisper_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure 音频耳语（预览）示例</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">book_translation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/book_translation/translate_latex_book_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">翻译一本用LaTeX写成的斯洛文尼亚语书籍成英语</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">chatgpt</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">gpt_actions_library</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/.gpt_action_getting_started_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT Action 库：入门指南 (Weather.gov)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_bigquery_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT Action 库：BigQuery</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_box_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Box</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_canvas_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Canvas LMS 食谱</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_confluence_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Confluence</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_github_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：GitHub</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_gmail_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Gmail</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_google_calendar_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Google 日历</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_google_drive_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">**GPT 操作库：Google 云端硬盘**</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_googleads_adzviser_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库 - 通过 Adzviser 连接 Google Ads</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_jira_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Jira</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_notion_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT Action 库：Notion</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_outlook_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Outlook</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_redshift_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：AWS RedShift</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_retool_workflow_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Retool 工作流</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_salesforce_gong_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Salesforce + Gong</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_salesforce_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_sharepoint_doc_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Sharepoint (返回文件以供数据分析/文档摘要)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_sharepoint_text_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Sharepoint (以文档形式返回)</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_snowflake_direct_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT Actions - Snowflake 直接连接</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_snowflake_middleware_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作 - Snowflake 中间件</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_sql_database_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：SQL 数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_trayai_apim_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Tray.ai API 管理操作</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_workday_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">**Workday GPT 操作手册**</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_action_zapier_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库：Zapier</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_middleware_aws_function_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT Action 库（中间件）：AWS Lambda</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_middleware_azure_function_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库（中间件）：Azure Function</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/gpt_actions_library/gpt_middleware_google_cloud_function_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT 操作库（中间件）：Google Cloud Function</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">rag-quickstart</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">azure</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/chatgpt/rag-quickstart/azure/Azure_AI_Search_with_Azure_Functions_and_GPT_Actions_in_ChatGPT_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">架构</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">gcp</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/chatgpt/rag-quickstart/gcp/Getting_started_with_bigquery_vector_search_and_openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GCP BigQuery 与 GCP Functions 和 ChatGPT 中的 GPT 操作</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">pinecone-retool</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/chatgpt/rag-quickstart/pinecone-retool/gpt-action-pinecone-retool-rag_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">sharepoint_azure_function</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/chatgpt/sharepoint_azure_function/Using_Azure_Functions_and_Microsoft_Graph_to_Query_SharePoint_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Azure Functions 结合 OAuth 和 Microsoft Graph API 从 ChatGPT 搜索 O365 / SharePoint</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">codex</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/codex/jira-github_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 `codex-cli` 自动化 Jira ↔ GitHub</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">dalle</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/dalle/How_to_create_dynamic_masks_with_DALL-E_and_Segment_Anything_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用 DALL·E 和 Segment Anything 创建动态蒙版</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/dalle/Image_generations_edits_and_variations_with_DALL-E_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用 DALL·E API</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">data</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">structured_outputs_articles</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/data/structured_outputs_articles/cnns_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/data/structured_outputs_articles/llms_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/data/structured_outputs_articles/moe_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">deep_research_api</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/deep_research_api/introduction_to_deep_research_api_agents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">深度研究代理食谱</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/deep_research_api/introduction_to_deep_research_api_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Deep Research API 入门</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">how_to_build_a_deep_research_mcp_server</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/deep_research_api/how_to_build_a_deep_research_mcp_server/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">深度研究的 MCP</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">evaluation</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/evaluation/Evaluate_RAG_with_LlamaIndex_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 LlamaIndex 构建和评估 RAG</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/evaluation/Getting_Started_with_OpenAI_Evals_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 OpenAI Evals 入门</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/evaluation/How_to_eval_abstractive_summarization_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何评估摘要任务</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/evaluation/How_to_evaluate_LLMs_for_SQL_generation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何为 SQL 生成测试和评估 LLM</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">use-cases</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/bulk-experimentation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">设置您的评估</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/completion-monitoring_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">生成我们的测试数据</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/EvalsAPI_Image_Inputs_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Evals API：图像输入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/mcp_eval_notebook_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用自定义数据集评估基于 MCP 的答案</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/regression_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">设置你的评估</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/responses-evaluation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">评估现有响应的新模型</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/structured-outputs-evaluation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">结构化输出评估食谱</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/tools-evaluation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 OpenAI Evals 进行工具评估</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/evaluation/use-cases/web-search-evaluation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用自定义数据集评估网络搜索质量</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">fine-tuned_qa</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/fine-tuned_qa/ft_retrieval_augmented_generation_qdrant_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Qdrant 和少样本学习对 OpenAI 模型进行检索增强生成 (RAG) 微调</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/fine-tuned_qa/olympics-1-collect-data_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">1. 收集关于 2020 年奥运会的维基百科数据</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/fine-tuned_qa/olympics-2-create-qa_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">2. 创建合成问答数据集</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/fine-tuned_qa/olympics-3-train-qa_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">3. 训练专门用于问答的微调模型</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/fine-tuned_qa/reinforcement_finetuning_healthbench_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 OpenAI API 进行对话推理的强化微调</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">gpt-5</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/gpt-5/gpt-5_frontend_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT-5 驱动的前端开发</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/gpt-5/gpt-5_new_params_and_tools_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT-5 新参数和工具</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/gpt-5/gpt-5_prompting_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT-5 提示指南</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/gpt-5/prompt-optimization-cookbook_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">GPT-5 提示迁移与改进：使用新的提示优化器</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">mcp</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/mcp/databricks_mcp_cookbook_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用OpenAI Agent SDK和Databricks MCP服务器构建供应链Copilot</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/mcp/mcp_tool_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">指南：使用响应式API的MCP工具</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">building-a-supply-chain-copilot-with-agent-sdk-and-databricks-mcp</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/mcp/building-a-supply-chain-copilot-with-agent-sdk-and-databricks-mcp/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Databricks MCP 助手（含 React UI）</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">ui</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/mcp/building-a-supply-chain-copilot-with-agent-sdk-and-databricks-mcp/ui/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">React + Vite</span>
                        </a>
                    </div>
                </div></div></div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">multimodal</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/multimodal/image_understanding_with_rag_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Download the dataset</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/multimodal/Using_GPT4_Vision_With_Function_Calling_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用具有函数调用的 GPT-4o Vision</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/multimodal/Vision_Fine_tuning_on_GPT4o_for_Visual_Question_Answering_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">加载数据集</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">o-series</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/o-series/o3o4-mini_prompting_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">o3/o4-mini 函数调用指南</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">o1</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/o1/Using_chained_calls_for_o1_structured_outputs_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">提示</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/o1/Using_reasoning_for_data_validation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Generate data three times using the existing dataGeneration function</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/o1/Using_reasoning_for_routine_generation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Set display options to show all text in the dataframe cells</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">object_oriented_agentic_approach</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/object_oriented_agentic_approach/Secure_code_interpreter_tool_for_LLM_agents_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Run the container in restricted mode. The container will run in the background.</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">partners</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">eval_driven_system_design</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/partners/eval_driven_system_design/receipt_inspection_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">评估驱动的系统设计：从原型到生产</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">model_selection_guide</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/partners/model_selection_guide/model_selection_guide_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">实用模型选择指南，面向真实用例</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">temporal_agents_with_knowledge_graphs</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/partners/temporal_agents_with_knowledge_graphs/Appendix_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">A. 原型到生产</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/partners/temporal_agents_with_knowledge_graphs/temporal_agents_with_knowledge_graphs_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">1. 执行摘要</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">responses_api</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/responses_api/reasoning_items_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">调用函数</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/responses_api/responses_api_tool_orchestration_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/responses_api/responses_example_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Display the image from the provided URL</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">stripe_model_eval</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/stripe_model_eval/selecting_a_model_based_on_stripe_conversion_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">根据 Stripe 转化率选择模型：初创公司的实用评估</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">third_party</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/Code_quality_and_security_scan_with_GitHub_Actions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Reasoning over Code Quality and Security in GitHub Pull Requests</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/financial_document_analysis_with_llamaindex_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">金融文档分析与 LlamaIndex</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/How_to_automate_S3_storage_with_functions_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">如何使用函数自动化任务（S3 存储桶示例）</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/Openai_monitoring_with_wandb_weave_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 W&B Weave 进行 OpenAI API 监控</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/Visualizing_embeddings_in_Kangas_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Column                Non-Null Count DataGrid Type</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/Visualizing_embeddings_in_wandb_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">加载嵌入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/Visualizing_embeddings_with_Atlas_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">加载嵌入</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/third_party/Web_search_with_google_api_bring_your_own_browser_tool_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Check if 'items' exists in the results</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">vector_databases</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/vector_databases/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">向量数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">PolarDB</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/PolarDB/Getting_started_with_PolarDB_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 PolarDB-PG 作为 OpenAI 嵌入的向量数据库</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">SingleStoreDB</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/SingleStoreDB/OpenAI_wikipedia_semantic_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">简介</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/SingleStoreDB/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">analyticdb</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/analyticdb/Getting_started_with_AnalyticDB_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 AnalyticDB 作为 OpenAI 嵌入的向量数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/analyticdb/QA_with_Langchain_AnalyticDB_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">问答系统：Langchain、AnalyticDB 和 OpenAI</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">azuresearch</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/azuresearch/Getting_started_with_azure_ai_search_and_openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Azure AI Search 作为 OpenAI 嵌入的向量数据库</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">cassandra_astradb</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/cassandra_astradb/Philosophical_Quotes_AstraPy_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">哲学与向量嵌入、OpenAI 和 Astra DB</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/cassandra_astradb/Philosophical_Quotes_cassIO_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Philosophy with Vector Embeddings, OpenAI and Cassandra / Astra DB through CQL</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/cassandra_astradb/Philosophical_Quotes_CQL_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">哲学与向量嵌入、OpenAI 和 Cassandra / Astra DB</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/cassandra_astradb/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">RAG 与 Astra DB 和 Cassandra</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">chroma</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/chroma/hyde-with-chroma-and-openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">鲁棒问答系统：结合 Chroma 和 OpenAI</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/chroma/Using_Chroma_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Chroma 进行嵌入搜索</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">deeplake</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/deeplake/deeplake_langchain_qa_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 LangChain、Deep Lake 和 OpenAI 进行问答</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">elasticsearch</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/elasticsearch/elasticsearch-retrieval-augmented-generation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">检索增强生成，使用 Elasticsearch 和 OpenAI</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/elasticsearch/elasticsearch-semantic-search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Elasticsearch 和 OpenAI 进行语义搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/elasticsearch/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Elasticsearch</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">hologres</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/hologres/Getting_started_with_Hologres_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用Hologres作为OpenAI嵌入的向量数据库</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">kusto</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/kusto/Getting_started_with_kusto_and_openai_embeddings_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">文件大约为 700 MB，因此这需要一些时间</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/kusto/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Kusto 作为向量数据库</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">milvus</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/milvus/Filtered_search_with_Milvus_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Milvus 和 OpenAI 进行过滤搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/milvus/Getting_started_with_Milvus_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Milvus 和 OpenAI 入门指南</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">mongodb_atlas</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/mongodb_atlas/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">MongoDB Atlas 向量搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/mongodb_atlas/semantic_search_using_mongodb_atlas_vector_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">第 1 步：设置环境</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">myscale</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/myscale/Getting_started_with_MyScale_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 MyScale 作为 OpenAI 嵌入的向量数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/myscale/Using_MyScale_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 MyScale 进行嵌入搜索</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">neon</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/neon/neon-postgres-vector-search-pgvector_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Neon Postgres 向量相似性搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/neon/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">什么是 Neon？</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">pinecone</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/pinecone/Gen_QA_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Pinecone 进行检索增强生成问答</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/pinecone/GPT4_Retrieval_Augmentation_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">create the length function</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/pinecone/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Pinecone 向量数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/pinecone/Semantic_Search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">我们可以将嵌入提取到一个列表中</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/pinecone/Using_Pinecone_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Pinecone 进行嵌入搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/pinecone/Using_vision_modality_for_RAG_with_Pinecone_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">导入Pinecone库</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">qdrant</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/qdrant/Getting_started_with_Qdrant_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Qdrant 作为 OpenAI embedding 的向量数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/qdrant/QA_with_Langchain_Qdrant_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Langchain、Qdrant 和 OpenAI 的问答系统</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/qdrant/Using_Qdrant_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Qdrant 进行嵌入搜索</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">redis</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/redis/getting-started-with-redis-and-openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Redis 和 OpenAI 作为向量数据库</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/redis/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Redis</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/redis/redis-hybrid-query-examples_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Redis 和 OpenAI 运行混合 VSS 查询</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/redis/Using_Redis_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Redis 进行嵌入搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">redisjson</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/vector_databases/redis/redisjson/redisjson_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Redis Vectors as JSON with OpenAI</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="3" style="padding-left: 60px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">redisqna</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 80px;">
                        <a href="examples/vector_databases/redis/redisqna/redisqna_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Redis 作为上下文存储与 OpenAI Chat</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">supabase</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/supabase/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Supabase 向量数据库</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">tair</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/tair/Getting_started_with_Tair_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Tair作为OpenAI嵌入的向量数据库使用指南</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/tair/QA_with_Langchain_Tair_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Langchain、Tair 和 OpenAI 进行问答</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">typesense</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/typesense/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Typesense</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/typesense/Using_Typesense_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Typesense 进行嵌入搜索</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">weaviate</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/weaviate/generative-search-with-weaviate-and-openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">导出 OpenAI API 密钥</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/weaviate/getting-started-with-weaviate-and-openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">安装 Weaviate Python 客户端</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/weaviate/hybrid-search-with-weaviate-and-openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">安装用于 Python 的 Weaviate 客户端</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/weaviate/question-answering-with-weaviate-and-openai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">在 Weaviate 中使用 OpenAI Q&A 模块进行问答</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/weaviate/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Weaviate <> OpenAI</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/weaviate/Using_Weaviate_for_embeddings_search_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">使用 Weaviate 进行嵌入搜索</span>
                        </a>
                    </div>
                </div></div>
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">zilliz</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/zilliz/Filtered_search_with_Zilliz_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Zilliz和OpenAI的过滤搜索</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/vector_databases/zilliz/Getting_started_with_Zilliz_and_OpenAI_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Zilliz 和 OpenAI 入门指南</span>
                        </a>
                    </div>
                </div></div></div></div>
                    <div class="tree-folder " data-level="1" style="padding-left: 20px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">voice_solutions</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/voice_solutions/running_realtime_api_speech_on_esp32_arduino_edge_runtime_elatoai_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">在 .env.local 中设置您的环境变量</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/voice_solutions/steering_tts_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                
                    <div class="tree-item " style="padding-left: 40px;">
                        <a href="examples/voice_solutions/voice_translation_into_different_languages_using_GPT-4o_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">确保已安装 requests 包</span>
                        </a>
                    </div>
                
                    <div class="tree-folder " data-level="2" style="padding-left: 40px;">
                        <div class="tree-folder-header">
                            <span class="tree-arrow">▶</span>
                            <span class="tree-icon"></span>
                            <span class="tree-title">one_way_translation_using_realtime_api</span>
                        </div>
                        <div class="tree-folder-content">
                
                    <div class="tree-item " style="padding-left: 60px;">
                        <a href="examples/voice_solutions/one_way_translation_using_realtime_api/README_zh.html" class="tree-link">
                            <span class="tree-icon">📄</span>
                            <span class="tree-title">Translation Demo</span>
                        </a>
                    </div>
                </div></div></div></div></div></div></nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <h1 id="openai-completions-api">OpenAI Completions 使用 API 扩展示例</h1>
<p>对于我们的大多数用户来说，<a href="https://platform.openai.com/usage">默认的使用和成本仪表板</a>已经足够。但是，如果您需要更详细的数据或自定义仪表板，可以使用 Completions Usage API。</p>
<p>本 notebook 演示了如何从 OpenAI Completions Usage API 和 Costs API 中检索和可视化使用数据。我们将：</p>
<ul>
<li>调用 API 获取 completions 使用数据。</li>
<li>将 JSON 响应解析为 pandas DataFrame。</li>
<li>使用 matplotlib 可视化随时间变化的 token 使用情况。</li>
<li>按模型进行分组，以分析不同模型的 token 使用情况。</li>
<li>使用饼图显示模型分布。</li>
</ul>
<p>我们还包含了所有可能的 API 参数的占位符，以提供全面的概述。</p>
<pre class="codehilite"><code class="language-python"># 安装所需的库（如果尚未安装）
!pip install requests pandas numpy matplotlib --quiet

# 导入库
import requests
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.patches as mpatches
import time
import json

# 在 Jupyter 中进行内联绘图
%matplotlib inline
</code></pre>

<h2 id="api">设置 API 凭据和参数</h2>
<p>设置管理员密钥 - https://platform.openai.com/settings/organization/admin-keys</p>
<p>将 <code>'PLACEHOLDER'</code> 替换为您的实际管理员 API 密钥。最佳实践是出于安全原因从环境变量加载密钥。</p>
<pre class="codehilite"><code class="language-python"># 用于从 API 检索分页数据的可重用函数
def get_data(url, params):
    # 设置 API 密钥和标头
    OPENAI_ADMIN_KEY = 'PLACEHOLDER'

    headers = {
        &quot;Authorization&quot;: f&quot;Bearer {OPENAI_ADMIN_KEY}&quot;,
        &quot;Content-Type&quot;: &quot;application/json&quot;,
    }

    # 初始化一个空列表以存储所有数据
    all_data = []

    # 初始化分页游标
    page_cursor = None

    # 循环处理分页
    while True:
        if page_cursor:
            params[&quot;page&quot;] = page_cursor

        response = requests.get(url, headers=headers, params=params)

        if response.status_code == 200:
            data_json = response.json()
            all_data.extend(data_json.get(&quot;data&quot;, []))

            page_cursor = data_json.get(&quot;next_page&quot;)
            if not page_cursor:
                break
        else:
            print(f&quot;Error: {response.status_code}&quot;)
            break

    if all_data:
        print(&quot;Data retrieved successfully!&quot;)
    else:
        print(&quot;Issue: No data available to retrieve.&quot;)
    return all_data
</code></pre>

<pre class="codehilite"><code class="language-python"># 定义 API 端点
url = &quot;https://api.openai.com/v1/organization/usage/completions&quot;

# 计算开始时间：从现在开始 n 天前
days_ago = 30
start_time = int(time.time()) - (days_ago * 24 * 60 * 60)

# 定义带有所有可能选项占位符的参数
params = {
    &quot;start_time&quot;: start_time,  # 必需：开始时间（Unix 秒）
    # &quot;end_time&quot;: end_time,  # 可选：结束时间（Unix 秒）
    &quot;bucket_width&quot;: &quot;1d&quot;,  # 可选：'1m'、'1h' 或 '1d'（默认为 '1d'）
    # &quot;project_ids&quot;: [&quot;proj_example&quot;],  # 可选：项目 ID 列表
    # &quot;user_ids&quot;: [&quot;user_example&quot;],     # 可选：用户 ID 列表
    # &quot;api_key_ids&quot;: [&quot;key_example&quot;],   # 可选：API 密钥 ID 列表
    # &quot;models&quot;: [&quot;o1-2024-12-17&quot;, &quot;gpt-4o-2024-08-06&quot;, &quot;gpt-4o-mini-2024-07-18&quot;],  # 可选：模型列表
    # &quot;batch&quot;: False,             # 可选：批处理作业为 True，非批处理为 False
    # &quot;group_by&quot;: [&quot;model&quot;],     # 可选：用于分组的字段
    &quot;limit&quot;: 7,  # 可选：要返回的桶数，这将把数据分成 7 个桶
    # &quot;page&quot;: &quot;cursor_string&quot;   # 可选：分页游标
}

usage_data = get_data(url, params)
</code></pre>

<pre class="codehilite"><code>Data retrieved successfully!
</code></pre>

<h2 id="json">查看 JSON 响应</h2>
<p>让我们看一下 API 的原始 JSON 响应，以了解其结构。</p>
<pre class="codehilite"><code class="language-python">print(json.dumps(usage_data, indent=2))
</code></pre>

<pre class="codehilite"><code>[
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736616660,
    &quot;end_time&quot;: 1736640000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 141201,
        &quot;output_tokens&quot;: 9756,
        &quot;num_model_requests&quot;: 470,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736640000,
    &quot;end_time&quot;: 1736726400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 45949,
        &quot;output_tokens&quot;: 282,
        &quot;num_model_requests&quot;: 150,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736726400,
    &quot;end_time&quot;: 1736812800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 3718360,
        &quot;output_tokens&quot;: 97756,
        &quot;num_model_requests&quot;: 3053,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 76544,
        &quot;input_audio_tokens&quot;: 5776,
        &quot;output_audio_tokens&quot;: 3166
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736812800,
    &quot;end_time&quot;: 1736899200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 52786,
        &quot;output_tokens&quot;: 38204,
        &quot;num_model_requests&quot;: 157,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 5440,
        &quot;input_audio_tokens&quot;: 4066,
        &quot;output_audio_tokens&quot;: 1097
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736899200,
    &quot;end_time&quot;: 1736985600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 35664,
        &quot;output_tokens&quot;: 1835,
        &quot;num_model_requests&quot;: 55,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 192,
        &quot;input_audio_tokens&quot;: 2520,
        &quot;output_audio_tokens&quot;: 1549
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736985600,
    &quot;end_time&quot;: 1737072000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 5464,
        &quot;output_tokens&quot;: 2667,
        &quot;num_model_requests&quot;: 8,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737072000,
    &quot;end_time&quot;: 1737158400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 3390547,
        &quot;output_tokens&quot;: 38604,
        &quot;num_model_requests&quot;: 2687,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 25344,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737158400,
    &quot;end_time&quot;: 1737244800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 8117824,
        &quot;output_tokens&quot;: 105662,
        &quot;num_model_requests&quot;: 6335,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 46464,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737244800,
    &quot;end_time&quot;: 1737331200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 13542,
        &quot;output_tokens&quot;: 85,
        &quot;num_model_requests&quot;: 46,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737331200,
    &quot;end_time&quot;: 1737417600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 0,
        &quot;output_tokens&quot;: 0,
        &quot;num_model_requests&quot;: 0,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737417600,
    &quot;end_time&quot;: 1737504000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 29806,
        &quot;output_tokens&quot;: 57604,
        &quot;num_model_requests&quot;: 98,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737504000,
    &quot;end_time&quot;: 1737590400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 1823,
        &quot;output_tokens&quot;: 1467,
        &quot;num_model_requests&quot;: 7,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737590400,
    &quot;end_time&quot;: 1737676800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 7126,
        &quot;output_tokens&quot;: 1896,
        &quot;num_model_requests&quot;: 19,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737676800,
    &quot;end_time&quot;: 1737763200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 22187,
        &quot;output_tokens&quot;: 822,
        &quot;num_model_requests&quot;: 75,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 640,
        &quot;input_audio_tokens&quot;: 2557,
        &quot;output_audio_tokens&quot;: 3103
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737763200,
    &quot;end_time&quot;: 1737849600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 30204,
        &quot;output_tokens&quot;: 65673,
        &quot;num_model_requests&quot;: 99,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737849600,
    &quot;end_time&quot;: 1737936000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 0,
        &quot;output_tokens&quot;: 0,
        &quot;num_model_requests&quot;: 0,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737936000,
    &quot;end_time&quot;: 1738022400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 0,
        &quot;output_tokens&quot;: 0,
        &quot;num_model_requests&quot;: 0,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738022400,
    &quot;end_time&quot;: 1738108800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 2541,
        &quot;output_tokens&quot;: 1604,
        &quot;num_model_requests&quot;: 14,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738108800,
    &quot;end_time&quot;: 1738195200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 68339,
        &quot;output_tokens&quot;: 49525,
        &quot;num_model_requests&quot;: 217,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 7296,
        &quot;input_audio_tokens&quot;: 20033,
        &quot;output_audio_tokens&quot;: 3168
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738195200,
    &quot;end_time&quot;: 1738281600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 18481,
        &quot;output_tokens&quot;: 17500,
        &quot;num_model_requests&quot;: 84,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 2944,
        &quot;input_audio_tokens&quot;: 10076,
        &quot;output_audio_tokens&quot;: 4966
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738281600,
    &quot;end_time&quot;: 1738368000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 1187894,
        &quot;output_tokens&quot;: 139134,
        &quot;num_model_requests&quot;: 5528,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 2112,
        &quot;input_audio_tokens&quot;: 4935,
        &quot;output_audio_tokens&quot;: 993
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738368000,
    &quot;end_time&quot;: 1738454400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 0,
        &quot;output_tokens&quot;: 0,
        &quot;num_model_requests&quot;: 0,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738454400,
    &quot;end_time&quot;: 1738540800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 7268,
        &quot;output_tokens&quot;: 30563,
        &quot;num_model_requests&quot;: 24,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738540800,
    &quot;end_time&quot;: 1738627200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 15121,
        &quot;output_tokens&quot;: 22866,
        &quot;num_model_requests&quot;: 48,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738627200,
    &quot;end_time&quot;: 1738713600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 16735,
        &quot;output_tokens&quot;: 16177,
        &quot;num_model_requests&quot;: 50,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 1152,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738713600,
    &quot;end_time&quot;: 1738800000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 6573,
        &quot;output_tokens&quot;: 4238,
        &quot;num_model_requests&quot;: 43,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738800000,
    &quot;end_time&quot;: 1738886400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 1402,
        &quot;output_tokens&quot;: 2042,
        &quot;num_model_requests&quot;: 18,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738886400,
    &quot;end_time&quot;: 1738972800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 11847,
        &quot;output_tokens&quot;: 21938,
        &quot;num_model_requests&quot;: 47,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738972800,
    &quot;end_time&quot;: 1739059200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 1993,
        &quot;output_tokens&quot;: 12,
        &quot;num_model_requests&quot;: 7,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1739059200,
    &quot;end_time&quot;: 1739145600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 0,
        &quot;output_tokens&quot;: 0,
        &quot;num_model_requests&quot;: 0,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1739145600,
    &quot;end_time&quot;: 1739232000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.usage.completions.result&quot;,
        &quot;input_tokens&quot;: 332,
        &quot;output_tokens&quot;: 1509,
        &quot;num_model_requests&quot;: 8,
        &quot;project_id&quot;: null,
        &quot;user_id&quot;: null,
        &quot;api_key_id&quot;: null,
        &quot;model&quot;: null,
        &quot;batch&quot;: null,
        &quot;input_cached_tokens&quot;: 0,
        &quot;input_audio_tokens&quot;: 0,
        &quot;output_audio_tokens&quot;: 0
      }
    ]
  }
]
</code></pre>

<h2 id="api-dataframe">解析 API 响应并创建 DataFrame</h2>
<p>现在我们将解析 JSON 数据，提取相关字段，并创建一个 pandas DataFrame 以便进行更轻松的操作和分析。</p>
<pre class="codehilite"><code class="language-python"># 初始化一个列表来保存解析后的记录
records = []

# 遍历数据以提取分桶数据
for bucket in usage_data:
    start_time = bucket.get(&quot;start_time&quot;)
    end_time = bucket.get(&quot;end_time&quot;)
    for result in bucket.get(&quot;results&quot;, []):
        records.append(
            {
                &quot;start_time&quot;: start_time,
                &quot;end_time&quot;: end_time,
                &quot;input_tokens&quot;: result.get(&quot;input_tokens&quot;, 0),
                &quot;output_tokens&quot;: result.get(&quot;output_tokens&quot;, 0),
                &quot;input_cached_tokens&quot;: result.get(&quot;input_cached_tokens&quot;, 0),
                &quot;input_audio_tokens&quot;: result.get(&quot;input_audio_tokens&quot;, 0),
                &quot;output_audio_tokens&quot;: result.get(&quot;output_audio_tokens&quot;, 0),
                &quot;num_model_requests&quot;: result.get(&quot;num_model_requests&quot;, 0),
                &quot;project_id&quot;: result.get(&quot;project_id&quot;),
                &quot;user_id&quot;: result.get(&quot;user_id&quot;),
                &quot;api_key_id&quot;: result.get(&quot;api_key_id&quot;),
                &quot;model&quot;: result.get(&quot;model&quot;),
                &quot;batch&quot;: result.get(&quot;batch&quot;),
            }
        )

# 从记录创建 DataFrame
df = pd.DataFrame(records)

# 将 Unix 时间戳转换为日期时间以便阅读
df[&quot;start_datetime&quot;] = pd.to_datetime(df[&quot;start_time&quot;], unit=&quot;s&quot;)
df[&quot;end_datetime&quot;] = pd.to_datetime(df[&quot;end_time&quot;], unit=&quot;s&quot;)

# 重新排列列以便更好地阅读
df = df[
    [
        &quot;start_datetime&quot;,
        &quot;end_datetime&quot;,
        &quot;start_time&quot;,
        &quot;end_time&quot;,
        &quot;input_tokens&quot;,
        &quot;output_tokens&quot;,
        &quot;input_cached_tokens&quot;,
        &quot;input_audio_tokens&quot;,
        &quot;output_audio_tokens&quot;,
        &quot;num_model_requests&quot;,
        &quot;project_id&quot;,
        &quot;user_id&quot;,
        &quot;api_key_id&quot;,
        &quot;model&quot;,
        &quot;batch&quot;,
    ]
]

# 显示 DataFrame
df.head()
</code></pre>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_datetime</th>
      <th>end_datetime</th>
      <th>start_time</th>
      <th>end_time</th>
      <th>input_tokens</th>
      <th>output_tokens</th>
      <th>input_cached_tokens</th>
      <th>input_audio_tokens</th>
      <th>output_audio_tokens</th>
      <th>num_model_requests</th>
      <th>project_id</th>
      <th>user_id</th>
      <th>api_key_id</th>
      <th>model</th>
      <th>batch</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-01-11 17:31:00</td>
      <td>2025-01-12</td>
      <td>1736616660</td>
      <td>1736640000</td>
      <td>141201</td>
      <td>9756</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>470</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-01-12 00:00:00</td>
      <td>2025-01-13</td>
      <td>1736640000</td>
      <td>1736726400</td>
      <td>45949</td>
      <td>282</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>150</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-01-13 00:00:00</td>
      <td>2025-01-14</td>
      <td>1736726400</td>
      <td>1736812800</td>
      <td>3718360</td>
      <td>97756</td>
      <td>76544</td>
      <td>5776</td>
      <td>3166</td>
      <td>3053</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-01-14 00:00:00</td>
      <td>2025-01-15</td>
      <td>1736812800</td>
      <td>1736899200</td>
      <td>52786</td>
      <td>38204</td>
      <td>5440</td>
      <td>4066</td>
      <td>1097</td>
      <td>157</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-01-15 00:00:00</td>
      <td>2025-01-16</td>
      <td>1736899200</td>
      <td>1736985600</td>
      <td>35664</td>
      <td>1835</td>
      <td>192</td>
      <td>2520</td>
      <td>1549</td>
      <td>55</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="token">可视化随时间变化的 Token 使用情况</h2>
<p>我们将创建一个条形图来可视化每个时间段的输入和输出 token 使用情况。</p>
<pre class="codehilite"><code class="language-python">if not df.empty:
    plt.figure(figsize=(12, 6))

    # 创建输入和输出 token 的条形图
    width = 0.35  # 条形的宽度
    indices = range(len(df))

    plt.bar(indices, df[&quot;input_tokens&quot;], width=width, label=&quot;Input Tokens&quot;, alpha=0.7)
    plt.bar(
        [i + width for i in indices],
        df[&quot;output_tokens&quot;],
        width=width,
        label=&quot;Output Tokens&quot;,
        alpha=0.7,
    )

    # 设置标签和刻度
    plt.xlabel(&quot;Time Bucket&quot;)
    plt.ylabel(&quot;Number of Tokens&quot;)
    plt.title(&quot;Daily Input vs Output Token Usage Last 30 Days&quot;)
    plt.xticks(
        [i + width / 2 for i in indices],
        [dt.strftime(&quot;%Y-%m-%d&quot;) for dt in df[&quot;start_datetime&quot;]],
        rotation=45,
    )
    plt.legend()
    plt.tight_layout()
    plt.show()
else:
    print(&quot;No data available to plot.&quot;)
</code></pre>

<p><img alt="png" src="completions_usage_api_files/completions_usage_api_10_0.png" /></p>
<h2 id="_1">可视化示例：按模型分组</h2>
<p>在本节中，我们将检索并可视化按模型和 project_id 分组的使用数据。这可以帮助您查看在指定期间内每个模型使用的总 token 数。</p>
<h3 id="grouping">关于 grouping 参数的说明</h3>
<ul>
<li>
<p>如果不指定 <code>group_by</code> 参数，<code>project_id</code>、<code>model</code> 等字段将返回 <code>null</code>。
  尽管 <code>group_by</code> 参数是可选的，但在大多数情况下建议包含它以检索有意义的数据。</p>
</li>
<li>
<p>您可以通过用逗号分隔来指定多个分组字段。例如：<code>group_by=["model", "project_id"]</code>。</p>
</li>
</ul>
<pre class="codehilite"><code class="language-python"># 计算开始时间：从现在开始 n 天前
days_ago = 30
start_time = int(time.time()) - (days_ago * 24 * 60 * 60)

# 定义按模型和 project_id 分组的参数
params = {
    &quot;start_time&quot;: start_time,  # 必需：开始时间（Unix 秒）
    &quot;bucket_width&quot;: &quot;1d&quot;,  # 可选：'1m'、'1h' 或 '1d'（默认为 '1d'）
    &quot;group_by&quot;: [&quot;model&quot;, &quot;project_id&quot;],  # 按模型和 project_id 分组数据
    &quot;limit&quot;: 7,  # 可选：要返回的桶数
}

# 初始化一个空列表以存储所有数据
all_group_data = get_data(url, params)

# 初始化一个列表来保存解析后的记录
records = []

# 遍历数据以提取分桶数据
for bucket in all_group_data:
    start_time = bucket.get(&quot;start_time&quot;)
    end_time = bucket.get(&quot;end_time&quot;)
    for result in bucket.get(&quot;results&quot;, []):
        records.append(
            {
                &quot;start_time&quot;: start_time,
                &quot;end_time&quot;: end_time,
                &quot;input_tokens&quot;: result.get(&quot;input_tokens&quot;, 0),
                &quot;output_tokens&quot;: result.get(&quot;output_tokens&quot;, 0),
                &quot;input_cached_tokens&quot;: result.get(&quot;input_cached_tokens&quot;, 0),
                &quot;input_audio_tokens&quot;: result.get(&quot;input_audio_tokens&quot;, 0),
                &quot;output_audio_tokens&quot;: result.get(&quot;output_audio_tokens&quot;, 0),
                &quot;num_model_requests&quot;: result.get(&quot;num_model_requests&quot;, 0),
                &quot;project_id&quot;: result.get(&quot;project_id&quot;, &quot;N/A&quot;),
                &quot;user_id&quot;: result.get(&quot;user_id&quot;, &quot;N/A&quot;),
                &quot;api_key_id&quot;: result.get(&quot;api_key_id&quot;, &quot;N/A&quot;),
                &quot;model&quot;: result.get(&quot;model&quot;, &quot;N/A&quot;),
                &quot;batch&quot;: result.get(&quot;batch&quot;, &quot;N/A&quot;),
            }
        )

# 从记录创建 DataFrame
df = pd.DataFrame(records)

# 将 Unix 时间戳转换为日期时间以便阅读
df[&quot;start_datetime&quot;] = pd.to_datetime(df[&quot;start_time&quot;], unit=&quot;s&quot;, errors=&quot;coerce&quot;)
df[&quot;end_datetime&quot;] = pd.to_datetime(df[&quot;end_time&quot;], unit=&quot;s&quot;, errors=&quot;coerce&quot;)

# 重新排列列以便更好地阅读
df = df[
    [
        &quot;start_datetime&quot;,
        &quot;end_datetime&quot;,
        &quot;start_time&quot;,
        &quot;end_time&quot;,
        &quot;input_tokens&quot;,
        &quot;output_tokens&quot;,
        &quot;input_cached_tokens&quot;,
        &quot;input_audio_tokens&quot;,
        &quot;output_audio_tokens&quot;,
        &quot;num_model_requests&quot;,
        &quot;project_id&quot;,
        &quot;user_id&quot;,
        &quot;api_key_id&quot;,
        &quot;model&quot;,
        &quot;batch&quot;,
    ]
]

# 显示 DataFrame
df.head()
</code></pre>

<pre class="codehilite"><code>Data retrieved successfully!
</code></pre>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_datetime</th>
      <th>end_datetime</th>
      <th>start_time</th>
      <th>end_time</th>
      <th>input_tokens</th>
      <th>output_tokens</th>
      <th>input_cached_tokens</th>
      <th>input_audio_tokens</th>
      <th>output_audio_tokens</th>
      <th>num_model_requests</th>
      <th>project_id</th>
      <th>user_id</th>
      <th>api_key_id</th>
      <th>model</th>
      <th>batch</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-01-11 17:31:39</td>
      <td>2025-01-12</td>
      <td>1736616699</td>
      <td>1736640000</td>
      <td>6897</td>
      <td>97</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>97</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>None</td>
      <td>None</td>
      <td>gpt-4o-mini-2024-07-18</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-01-11 17:31:39</td>
      <td>2025-01-12</td>
      <td>1736616699</td>
      <td>1736640000</td>
      <td>33984</td>
      <td>206</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>95</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>None</td>
      <td>None</td>
      <td>ft:gpt-4o-2024-08-06:distillation-test:wordle2...</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-01-11 17:31:39</td>
      <td>2025-01-12</td>
      <td>1736616699</td>
      <td>1736640000</td>
      <td>2846</td>
      <td>8874</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>None</td>
      <td>None</td>
      <td>o1-mini-2024-09-12</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-01-11 17:31:39</td>
      <td>2025-01-12</td>
      <td>1736616699</td>
      <td>1736640000</td>
      <td>97474</td>
      <td>579</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>270</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>None</td>
      <td>None</td>
      <td>gpt-4o-2024-08-06</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-01-12 00:00:00</td>
      <td>2025-01-13</td>
      <td>1736640000</td>
      <td>1736726400</td>
      <td>1989</td>
      <td>28</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>28</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>None</td>
      <td>None</td>
      <td>gpt-4o-mini-2024-07-18</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="api-dataframe_1">将 API 响应解析为 DataFrame 并渲染堆叠条形图</h2>
<p>现在我们将解析 JSON 数据，提取相关字段，并创建一个 pandas DataFrame 以便进行更轻松的操作和分析。</p>
<pre class="codehilite"><code class="language-python"># 按模型和 project_id 对数据进行分组并汇总模型请求计数
grouped_by_model_project = (
    df.groupby([&quot;model&quot;, &quot;project_id&quot;])
    .agg(
        {
            &quot;num_model_requests&quot;: &quot;sum&quot;,
        }
    )
    .reset_index()
)

# 确定用于绘图和颜色映射的唯一模型和项目 ID
models = sorted(grouped_by_model_project[&quot;model&quot;].unique())
project_ids = sorted(grouped_by_model_project[&quot;project_id&quot;].unique())
distinct_colors = [
    &quot;#1f77b4&quot;,
    &quot;#ff7f0e&quot;,
    &quot;#2ca02c&quot;,
    &quot;#d62728&quot;,
    &quot;#9467bd&quot;,
    &quot;#8c564b&quot;,
    &quot;#e377c2&quot;,
    &quot;#7f7f7f&quot;,
    &quot;#bcbd22&quot;,
    &quot;#17becf&quot;,
]
project_color_mapping = {
    pid: distinct_colors[i % len(distinct_colors)] for i, pid in enumerate(project_ids)
}

# 计算每个 project_id 的总请求数以用于图例
project_totals = (
    grouped_by_model_project.groupby(&quot;project_id&quot;)[&quot;num_model_requests&quot;]
    .sum()
    .sort_values(ascending=False)  # 按总数降序排序
)

# 设置条形图位置
n_models = len(models)
bar_width = 0.6
x = np.arange(n_models)

plt.figure(figsize=(12, 6))

# 为每个模型绘制堆叠条形图
for model_idx, model in enumerate(models):
    # 过滤当前模型的数据
    model_data = grouped_by_model_project[grouped_by_model_project[&quot;model&quot;] == model]

    bottom = 0
    # 在条形图中堆叠每个项目 ID 的片段
    for _, row in model_data.iterrows():
        color = project_color_mapping[row[&quot;project_id&quot;]]
        plt.bar(
            x[model_idx],
            row[&quot;num_model_requests&quot;],
            width=bar_width,
            bottom=bottom,
            color=color,
        )
        bottom += row[&quot;num_model_requests&quot;]

# 标注和样式设置
plt.xlabel(&quot;Model&quot;)
plt.ylabel(&quot;Number of Model Requests&quot;)
plt.title(&quot;Total Model Requests by Model and Project ID Last 30 Days&quot;)
plt.xticks(x, models, rotation=45, ha=&quot;right&quot;)

# 创建排序后的图例，包含总数
handles = [
    mpatches.Patch(color=project_color_mapping[pid], label=f&quot;{pid} (Total: {total})&quot;)
    for pid, total in project_totals.items()
]
plt.legend(handles=handles, bbox_to_anchor=(1.05, 1), loc=&quot;upper left&quot;)

plt.tight_layout()
plt.show()
</code></pre>

<p><img alt="png" src="completions_usage_api_files/completions_usage_api_14_0.png" /></p>
<h2 id="_2">可视化示例：模型分布饼图</h2>
<p>本节使用饼图可视化不同模型之间的 token 使用情况分布。</p>
<pre class="codehilite"><code class="language-python">records = []
for bucket in all_group_data:
    for result in bucket.get(&quot;results&quot;, []):
        records.append(
            {
                &quot;project_id&quot;: result.get(&quot;project_id&quot;, &quot;N/A&quot;),
                &quot;num_model_requests&quot;: result.get(&quot;num_model_requests&quot;, 0),
            }
        )

# 创建 DataFrame
df = pd.DataFrame(records)

# 按 project_id 对数据进行分组
grouped_by_project = (
    df.groupby(&quot;project_id&quot;).agg({&quot;num_model_requests&quot;: &quot;sum&quot;}).reset_index()
)

# 可视化饼图
if not grouped_by_project.empty:
    # 过滤掉 num_model_requests == 0 的行
    filtered_grouped_by_project = grouped_by_project[
        grouped_by_project[&quot;num_model_requests&quot;] &gt; 0
    ]

    # 计算过滤后的总模型请求数
    total_requests = filtered_grouped_by_project[&quot;num_model_requests&quot;].sum()

    if total_requests &gt; 0:
        # 计算每个项目的总百分比
        filtered_grouped_by_project[&quot;percentage&quot;] = (
            filtered_grouped_by_project[&quot;num_model_requests&quot;] / total_requests
        ) * 100

        # 分离“其他”项目（低于 5%）
        other_projects = filtered_grouped_by_project[
            filtered_grouped_by_project[&quot;percentage&quot;] &lt; 5
        ]
        main_projects = filtered_grouped_by_project[
            filtered_grouped_by_project[&quot;percentage&quot;] &gt;= 5
        ]

        # 对“其他”项目进行汇总
        if not other_projects.empty:
            other_row = pd.DataFrame(
                {
                    &quot;project_id&quot;: [&quot;Other&quot;],
                    &quot;num_model_requests&quot;: [other_projects[&quot;num_model_requests&quot;].sum()],
                    &quot;percentage&quot;: [other_projects[&quot;percentage&quot;].sum()],
                }
            )
            filtered_grouped_by_project = pd.concat(
                [main_projects, other_row], ignore_index=True
            )

        # 按请求数排序以优化图例组织
        filtered_grouped_by_project = filtered_grouped_by_project.sort_values(
            by=&quot;num_model_requests&quot;, ascending=False
        )

        # 主要饼图，显示按 project_id 分布的模型请求
        plt.figure(figsize=(10, 8))
        plt.pie(
            filtered_grouped_by_project[&quot;num_model_requests&quot;],
            labels=filtered_grouped_by_project[&quot;project_id&quot;],
            autopct=lambda p: f&quot;{p:.1f}%\n({int(p * total_requests / 100):,})&quot;,
            startangle=140,
            textprops={&quot;fontsize&quot;: 10},
        )
        plt.title(&quot;Distribution of Model Requests by Project ID&quot;, fontsize=14)
        plt.axis(&quot;equal&quot;)  # 相等长宽比确保饼图是圆形的。
        plt.tight_layout()
        plt.show()

        # 如果存在“其他”项目，则生成第二个饼图进行细分
        if not other_projects.empty:
            other_total_requests = other_projects[&quot;num_model_requests&quot;].sum()

            plt.figure(figsize=(10, 8))
            plt.pie(
                other_projects[&quot;num_model_requests&quot;],
                labels=other_projects[&quot;project_id&quot;],
                autopct=lambda p: f&quot;{p:.1f}%\n({int(p * other_total_requests / 100):,})&quot;,
                startangle=140,
                textprops={&quot;fontsize&quot;: 10},
            )
            plt.title('Breakdown of &quot;Other&quot; Projects by Model Requests', fontsize=14)
            plt.axis(&quot;equal&quot;)  # 相等长宽比确保饼图是圆形的。
            plt.tight_layout()
            plt.show()
    else:
        print(&quot;Total model requests is zero. Pie chart will not be rendered.&quot;)
else:
    print(&quot;No grouped data available for pie chart.&quot;)
</code></pre>

<p><img alt="png" src="completions_usage_api_files/completions_usage_api_16_0.png" /></p>
<p><img alt="png" src="completions_usage_api_files/completions_usage_api_16_1.png" /></p>
<h2 id="costs-api">Costs API 示例</h2>
<p>在本节中，我们将使用 OpenAI Costs API 来检索和可视化成本数据。与 completions 数据类似，我们将：</p>
<ul>
<li>调用 Costs API 获取汇总的成本数据。</li>
<li>将 JSON 响应解析为 pandas DataFrame。</li>
<li>使用条形图可视化按行项目分组的成本。</li>
</ul>
<pre class="codehilite"><code class="language-python"># 计算开始时间：从现在开始 n 天前
days_ago = 30
start_time = int(time.time()) - (days_ago * 24 * 60 * 60)

# 定义 Costs API 端点
costs_url = &quot;https://api.openai.com/v1/organization/costs&quot;

costs_params = {
    &quot;start_time&quot;: start_time,  # 必需：开始时间（Unix 秒）
    &quot;bucket_width&quot;: &quot;1d&quot;,  # 可选：目前仅支持 '1d'
    &quot;limit&quot;: 30,  # 可选：要返回的桶数
}

# 初始化一个空列表以存储所有数据
all_costs_data = get_data(costs_url, costs_params)
</code></pre>

<pre class="codehilite"><code>Data retrieved successfully!
</code></pre>

<pre class="codehilite"><code class="language-python">print(json.dumps(all_costs_data, indent=2))
</code></pre>

<pre class="codehilite"><code>[
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736553600,
    &quot;end_time&quot;: 1736640000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.13080438340307526,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736640000,
    &quot;end_time&quot;: 1736726400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.12270423340307525,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736726400,
    &quot;end_time&quot;: 1736812800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 9.888144383403077,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736812800,
    &quot;end_time&quot;: 1736899200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.3507639334030752,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736899200,
    &quot;end_time&quot;: 1736985600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.2977481185324674,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1736985600,
    &quot;end_time&quot;: 1737072000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00925485477848094,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737072000,
    &quot;end_time&quot;: 1737158400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 8.889884136532304,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737158400,
    &quot;end_time&quot;: 1737244800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 21.167310118127915,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737244800,
    &quot;end_time&quot;: 1737331200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.04955636812791847,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737331200,
    &quot;end_time&quot;: 1737417600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.0003226181279184669,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737417600,
    &quot;end_time&quot;: 1737504000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.6320363681279185,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737504000,
    &quot;end_time&quot;: 1737590400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 52.41558761812793,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737590400,
    &quot;end_time&quot;: 1737676800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 104.88761235323427,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737676800,
    &quot;end_time&quot;: 1737763200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.3376030385950106,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737763200,
    &quot;end_time&quot;: 1737849600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.062551042553524,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737849600,
    &quot;end_time&quot;: 1737936000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00032195744715549047,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1737936000,
    &quot;end_time&quot;: 1738022400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.0003084210662774742,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738022400,
    &quot;end_time&quot;: 1738108800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00032195744715549047,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738108800,
    &quot;end_time&quot;: 1738195200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.5142559074471554,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738195200,
    &quot;end_time&quot;: 1738281600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.21870350744715547,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738281600,
    &quot;end_time&quot;: 1738368000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 1.4528752074471551,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738368000,
    &quot;end_time&quot;: 1738454400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00042714787262957543,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738454400,
    &quot;end_time&quot;: 1738540800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00032195744715549047,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738540800,
    &quot;end_time&quot;: 1738627200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.0031147346857709622,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738627200,
    &quot;end_time&quot;: 1738713600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 68.30023964957941,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738713600,
    &quot;end_time&quot;: 1738800000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 14.858330207447157,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738800000,
    &quot;end_time&quot;: 1738886400,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.3137180574471555,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738886400,
    &quot;end_time&quot;: 1738972800,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.02677460744715549,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1738972800,
    &quot;end_time&quot;: 1739059200,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.007399792553524012,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1739059200,
    &quot;end_time&quot;: 1739145600,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00032195744715549047,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  },
  {
    &quot;object&quot;: &quot;bucket&quot;,
    &quot;start_time&quot;: 1739145600,
    &quot;end_time&quot;: 1739232000,
    &quot;results&quot;: [
      {
        &quot;object&quot;: &quot;organization.costs.result&quot;,
        &quot;amount&quot;: {
          &quot;value&quot;: 0.00012073404268330895,
          &quot;currency&quot;: &quot;usd&quot;
        },
        &quot;line_item&quot;: null,
        &quot;project_id&quot;: null,
        &quot;organization_id&quot;: &quot;org-GLHrIv00VVN9dEQC2b4wsBkf&quot;
      }
    ]
  }
]
</code></pre>

<h2 id="costs-api-dataframe">解析 Costs API 响应并创建 DataFrame</h2>
<p>我们现在将解析来自 Costs API 的 JSON 数据，提取相关字段，并创建一个 pandas DataFrame 以便进一步分析。</p>
<pre class="codehilite"><code class="language-python"># 初始化一个列表来保存解析后的成本记录
cost_records = []

# 从 all_costs_data 中提取分桶成本数据
for bucket in all_costs_data:
    start_time = bucket.get(&quot;start_time&quot;)
    end_time = bucket.get(&quot;end_time&quot;)
    for result in bucket.get(&quot;results&quot;, []):
        cost_records.append(
            {
                &quot;start_time&quot;: start_time,
                &quot;end_time&quot;: end_time,
                &quot;amount_value&quot;: result.get(&quot;amount&quot;, {}).get(&quot;value&quot;, 0),
                &quot;currency&quot;: result.get(&quot;amount&quot;, {}).get(&quot;currency&quot;, &quot;usd&quot;),
                &quot;line_item&quot;: result.get(&quot;line_item&quot;),
                &quot;project_id&quot;: result.get(&quot;project_id&quot;),
            }
        )

# 从成本记录创建 DataFrame
cost_df = pd.DataFrame(cost_records)

# 将 Unix 时间戳转换为日期时间以便阅读
cost_df[&quot;start_datetime&quot;] = pd.to_datetime(cost_df[&quot;start_time&quot;], unit=&quot;s&quot;)
cost_df[&quot;end_datetime&quot;] = pd.to_datetime(cost_df[&quot;end_time&quot;], unit=&quot;s&quot;)

# 显示 DataFrame 的前几行
cost_df.head()
</code></pre>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_time</th>
      <th>end_time</th>
      <th>amount_value</th>
      <th>currency</th>
      <th>line_item</th>
      <th>project_id</th>
      <th>start_datetime</th>
      <th>end_datetime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1736553600</td>
      <td>1736640000</td>
      <td>0.130804</td>
      <td>usd</td>
      <td>None</td>
      <td>None</td>
      <td>2025-01-11</td>
      <td>2025-01-12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1736640000</td>
      <td>1736726400</td>
      <td>0.122704</td>
      <td>usd</td>
      <td>None</td>
      <td>None</td>
      <td>2025-01-12</td>
      <td>2025-01-13</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1736726400</td>
      <td>1736812800</td>
      <td>9.888144</td>
      <td>usd</td>
      <td>None</td>
      <td>None</td>
      <td>2025-01-13</td>
      <td>2025-01-14</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1736812800</td>
      <td>1736899200</td>
      <td>0.350764</td>
      <td>usd</td>
      <td>None</td>
      <td>None</td>
      <td>2025-01-14</td>
      <td>2025-01-15</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1736899200</td>
      <td>1736985600</td>
      <td>0.297748</td>
      <td>usd</td>
      <td>None</td>
      <td>None</td>
      <td>2025-01-15</td>
      <td>2025-01-16</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="_3">可视化每日总成本</h2>
<p>我们将创建一个条形图来可视化按天汇总的总成本。这有助于从高层视角了解组织支出情况。</p>
<pre class="codehilite"><code class="language-python">if not cost_df.empty:
    # 确保对 'start_datetime' 列进行了日期时间转换
    if (
        &quot;start_datetime&quot; not in cost_df.columns
        or not pd.api.types.is_datetime64_any_dtype(cost_df[&quot;start_datetime&quot;])
    ):
        cost_df[&quot;start_datetime&quot;] = pd.to_datetime(
            cost_df[&quot;start_time&quot;], unit=&quot;s&quot;, errors=&quot;coerce&quot;
        )

    # 创建一个新列，仅包含 'start_datetime' 的日期部分
    cost_df[&quot;date&quot;] = cost_df[&quot;start_datetime&quot;].dt.date

    # 按日期对金额求和
    cost_per_day = cost_df.groupby(&quot;date&quot;)[&quot;amount_value&quot;].sum().reset_index()

    # 绘制数据
    plt.figure(figsize=(12, 6))
    plt.bar(
        cost_per_day[&quot;date&quot;],
        cost_per_day[&quot;amount_value&quot;],
        width=0.6,
        color=&quot;skyblue&quot;,
        alpha=0.8,
    )
    plt.xlabel(&quot;Date&quot;)
    plt.ylabel(&quot;Total Cost (USD)&quot;)
    plt.title(&quot;Total Cost per Day (Last 30 Days)&quot;)
    plt.xticks(rotation=45, ha=&quot;right&quot;)
    plt.tight_layout()
    plt.show()
else:
    print(&quot;No cost data available to plot.&quot;)
</code></pre>

<p><img alt="png" src="completions_usage_api_files/completions_usage_api_23_0.png" /></p>
<h2 id="_4">按行项目可视化成本</h2>
<p>我们将创建一个条形图来可视化按行项目汇总的总成本。这有助于识别哪些类别（例如，模型或其他服务）对支出贡献最大。</p>
<pre class="codehilite"><code class="language-python">days_ago = 30
start_time = int(time.time()) - (days_ago * 24 * 60 * 60)

costs_params = {
    &quot;start_time&quot;: start_time,  # 必需：开始时间（Unix 秒）
    &quot;bucket_width&quot;: &quot;1d&quot;,  # 可选：目前仅支持 '1d'
    &quot;limit&quot;: 30,  # 可选：要返回的桶数
    &quot;group_by&quot;: [&quot;line_item&quot;],
}

line_item_cost_data = get_data(costs_url, costs_params)

# 初始化一个列表来保存解析后的成本记录
cost_records = []

# 从 all_costs_data 中提取分桶成本数据
for bucket in line_item_cost_data:
    start_time = bucket.get(&quot;start_time&quot;)
    end_time = bucket.get(&quot;end_time&quot;)
    for result in bucket.get(&quot;results&quot;, []):
        cost_records.append(
            {
                &quot;start_time&quot;: start_time,
                &quot;end_time&quot;: end_time,
                &quot;amount_value&quot;: result.get(&quot;amount&quot;, {}).get(&quot;value&quot;, 0),
                &quot;currency&quot;: result.get(&quot;amount&quot;, {}).get(&quot;currency&quot;, &quot;usd&quot;),
                &quot;line_item&quot;: result.get(&quot;line_item&quot;),
                &quot;project_id&quot;: result.get(&quot;project_id&quot;),
            }
        )

# 创建一个 DataFrame 从成本记录
cost_df = pd.DataFrame(cost_records)

# 将 Unix 时间戳转换为日期时间以便阅读
cost_df[&quot;start_datetime&quot;] = pd.to_datetime(cost_df[&quot;start_time&quot;], unit=&quot;s&quot;)
cost_df[&quot;end_datetime&quot;] = pd.to_datetime(cost_df[&quot;end_time&quot;], unit=&quot;s&quot;)

# 显示 DataFrame 的前几行
cost_df.head()
</code></pre>

<pre class="codehilite"><code>Data retrieved successfully!
</code></pre>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_time</th>
      <th>end_time</th>
      <th>amount_value</th>
      <th>currency</th>
      <th>line_item</th>
      <th>project_id</th>
      <th>start_datetime</th>
      <th>end_datetime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1736553600</td>
      <td>1736640000</td>
      <td>0.127440</td>
      <td>usd</td>
      <td>ft-gpt-4o-2024-08-06, input</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>2025-01-11</td>
      <td>2025-01-12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1736553600</td>
      <td>1736640000</td>
      <td>0.003090</td>
      <td>usd</td>
      <td>ft-gpt-4o-2024-08-06, output</td>
      <td>proj_hNhhQzyYu7HxySZWs7cA3Ugu</td>
      <td>2025-01-11</td>
      <td>2025-01-12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1736553600</td>
      <td>1736640000</td>
      <td>0.000271</td>
      <td>usd</td>
      <td>assistants api | file search</td>
      <td>proj_L67gOme4S2nBA8aQieEOwLy7</td>
      <td>2025-01-11</td>
      <td>2025-01-12</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1736553600</td>
      <td>1736640000</td>
      <td>0.000003</td>
      <td>usd</td>
      <td>assistants api | file search</td>
      <td>proj_VV4ZAjd6ALfFd9uh0vY8joR1</td>
      <td>2025-01-11</td>
      <td>2025-01-12</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1736640000</td>
      <td>1736726400</td>
      <td>0.028607</td>
      <td>usd</td>
      <td>evals | gpt-4o-mini-2024-07-18, input</td>
      <td>proj_L67gOme4S2nBA8aQieEOwLy7</td>
      <td>2025-01-12</td>
      <td>2025-01-13</td>
    </tr>
  </tbody>
</table>
</div>

<pre class="codehilite"><code class="language-python">if not cost_df.empty:
    # 确保对 'start_datetime' 列进行了日期时间转换
    if &quot;start_datetime&quot; not in cost_df.columns or not pd.api.types.is_datetime64_any_dtype(cost_df[&quot;start_datetime&quot;]):
        cost_df[&quot;start_datetime&quot;] = pd.to_datetime(cost_df[&quot;start_time&quot;], unit=&quot;s&quot;, errors=&quot;coerce&quot;)

    # 创建一个新列，仅包含 'start_datetime' 的日期部分
    cost_df[&quot;date&quot;] = cost_df[&quot;start_datetime&quot;].dt.date

    # 按日期和行项目对金额求和
    cost_per_day = cost_df.groupby([&quot;date&quot;, &quot;line_item&quot;])[&quot;amount_value&quot;].sum().reset_index()

    # 枢轴化 DataFrame，使每个日期都有一个包含行项目堆叠的条形图
    cost_pivot = cost_per_day.pivot(index=&quot;date&quot;, columns=&quot;line_item&quot;, values=&quot;amount_value&quot;).fillna(0)
    cost_pivot = cost_pivot.sort_index()

    # 绘制堆叠条形图，每个分组日期一个条形图
    plt.figure(figsize=(12, 6))
    ax = cost_pivot.plot(kind=&quot;bar&quot;, stacked=True, ax=plt.gca(), width=0.8)
    plt.xlabel(&quot;Date&quot;)
    plt.ylabel(&quot;Total Cost (USD)&quot;)
    plt.title(&quot;Total Cost by Line Item&quot;)
    plt.xticks(rotation=45, ha=&quot;right&quot;)
    # 更新图例，使其不覆盖图形，将其放置在图形外部
    plt.legend(bbox_to_anchor=(1.05, 1), loc=&quot;upper left&quot;, borderaxespad=0.)
    plt.tight_layout()
    plt.show()
else:
    print(&quot;No cost data available to plot.&quot;)
</code></pre>

<pre class="codehilite"><code>/var/folders/r_/g8r2dz8s2qd104th5p5yxljr0000gp/T/ipykernel_49468/2813361465.py:25: UserWarning: Tight layout not applied. The bottom and top margins cannot be made large enough to accommodate all Axes decorations.
  plt.tight_layout()
</code></pre>

<p><img alt="png" src="completions_usage_api_files/completions_usage_api_26_1.png" /></p>
<h2 id="_5">其他可视化（可选）</h2>
<p>您可以扩展此 notebook，为 Completions 和 Costs API 添加更多可视化。例如：</p>
<p><strong>Completions API：</strong></p>
<ul>
<li>按用户、项目或模型分组，查看哪些消耗的 token 最多。</li>
<li>为每日或每小时 token 使用情况的时间序列分析创建折线图。</li>
<li>使用饼图可视化跨模型、用户或项目的 token 分布。</li>
<li>尝试不同的 <code>group_by</code> 参数（例如 <code>["model", "user_id"]</code>）以获得更深入的见解。</li>
</ul>
<p><strong>Costs API：</strong></p>
<ul>
<li>按项目或行项目分组以识别支出模式。</li>
<li>创建折线图或条形图以可视化每日成本趋势。</li>
<li>使用饼图显示成本在项目、服务或行项目之间的分布情况。</li>
<li>尝试各种 <code>group_by</code> 选项（例如 <code>["project_id"]</code>、<code>["line_item"]</code>）以进行精细分析。</li>
</ul>
<p>使用 <code>pandas</code> 和 <code>matplotlib</code>（或 Plotly/Bokeh 等库）尝试不同的参数和可视化技术以获得更深入的见解，并考虑将这些可视化集成到交互式仪表板中以进行实时监控。</p>
<h2 id="_6">与第三方仪表板平台集成</h2>
<p>要将 OpenAI 使用和成本数据引入 Tableau、Power BI 或自定义平台（例如 Plotly Dash、Bokeh）等外部仪表板工具，请遵循以下步骤：</p>
<ol>
<li>
<p><strong>数据收集与准备：</strong>
   - 使用 Python 脚本定期从 Completions 和 Costs API 获取数据。
   - 使用 pandas 处理和聚合数据，然后将其存储在数据库、数据仓库中，或导出为 CSV/JSON 文件。</p>
</li>
<li>
<p><strong>连接到仪表板：</strong>
   - <strong>BI 工具（Tableau、Power BI）：</strong></p>
<ul>
<li>直接连接到准备好的数据源（SQL 数据库、CSV 文件或 Web API）。</li>
<li>使用内置连接器安排数据刷新，确保仪表板始终显示最新信息。</li>
<li><strong>自定义仪表板（Plotly Dash、Bokeh）：</strong></li>
<li>将 API 调用和数据处理嵌入到仪表板代码中。</li>
<li>构建交互式可视化组件，这些组件在获取新数据时自动更新。</li>
</ul>
</li>
<li>
<p><strong>实时和自动化更新：</strong>
   - 使用 cron 作业、任务计划程序或工作流工具（例如 Apache Airflow）安排脚本定期刷新数据。
   - 实现 Webhook 或流式 API（如果可用）以实现近乎实时的数据更新。</p>
</li>
</ol>
<p>通过将 API 数据集成到第三方平台，您可以创建交互式、实时的仪表板，将 OpenAI 指标与其他业务数据相结合，从而提供全面的见解和自动化监控。</p>
            </article>
            
            <nav class="page-nav"><a href="examples/evaluation/use-cases/completion-monitoring_zh.html" class="nav-link prev">← 生成我们的测试数据</a><a href="examples/azure/archive/completions_zh.html" class="nav-link next">Azure completions 示例 →</a></nav>
        </main>
    </div>
</body>
</html>